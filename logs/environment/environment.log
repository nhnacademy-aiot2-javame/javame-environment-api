2025-06-04 23:00:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:00:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:00:02 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:00:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:00:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:00:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 401ms
2025-06-04 23:00:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:55:08.188Z, location=server_resource_data, value=59.28678140700262, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:55:18.189Z, location=server_resource_data, value=59.30673920908302, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:55:28.192Z, location=server_resource_data, value=59.318549444021976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:55:38.193Z, location=server_resource_data, value=59.306689376868086, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:55:48.194Z, location=server_resource_data, value=59.28982117211349, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:55:58.194Z, location=server_resource_data, value=59.32522696082291, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:08.192Z, location=server_resource_data, value=59.330957665540126, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:18.194Z, location=server_resource_data, value=59.34752687700512, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:28.196Z, location=server_resource_data, value=59.34067494745193, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:38.198Z, location=server_resource_data, value=59.33960355483089, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:48.199Z, location=server_resource_data, value=59.325177128607976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:58.200Z, location=server_resource_data, value=59.34331605484334, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:08.198Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:18.201Z, location=server_resource_data, value=59.343664880347866, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:28.200Z, location=server_resource_data, value=59.30663954465315, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:00:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:00:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:00:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:00:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:00:12 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:00:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:00:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:00:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 168ms
2025-06-04 23:00:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:55:18.189Z, location=server_resource_data, value=59.30673920908302, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:55:28.192Z, location=server_resource_data, value=59.318549444021976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:55:38.193Z, location=server_resource_data, value=59.306689376868086, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:55:48.194Z, location=server_resource_data, value=59.28982117211349, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:55:58.194Z, location=server_resource_data, value=59.32522696082291, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:08.192Z, location=server_resource_data, value=59.330957665540126, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:18.194Z, location=server_resource_data, value=59.34752687700512, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:28.196Z, location=server_resource_data, value=59.34067494745193, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:38.198Z, location=server_resource_data, value=59.33960355483089, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:48.199Z, location=server_resource_data, value=59.325177128607976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:58.200Z, location=server_resource_data, value=59.34331605484334, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:08.198Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:18.201Z, location=server_resource_data, value=59.343664880347866, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:28.200Z, location=server_resource_data, value=59.30663954465315, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:00:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:00:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:00:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:00:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:00:22 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:00:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:00:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:00:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 187ms
2025-06-04 23:00:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:55:28.192Z, location=server_resource_data, value=59.318549444021976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:55:38.193Z, location=server_resource_data, value=59.306689376868086, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:55:48.194Z, location=server_resource_data, value=59.28982117211349, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:55:58.194Z, location=server_resource_data, value=59.32522696082291, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:08.192Z, location=server_resource_data, value=59.330957665540126, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:18.194Z, location=server_resource_data, value=59.34752687700512, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:28.196Z, location=server_resource_data, value=59.34067494745193, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:38.198Z, location=server_resource_data, value=59.33960355483089, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:48.199Z, location=server_resource_data, value=59.325177128607976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:58.200Z, location=server_resource_data, value=59.34331605484334, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:08.198Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:18.201Z, location=server_resource_data, value=59.343664880347866, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:28.200Z, location=server_resource_data, value=59.30663954465315, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:00:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:00:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:00:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:00:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:00:32 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:00:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:00:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:00:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 277ms
2025-06-04 23:00:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:55:38.193Z, location=server_resource_data, value=59.306689376868086, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:55:48.194Z, location=server_resource_data, value=59.28982117211349, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:55:58.194Z, location=server_resource_data, value=59.32522696082291, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:08.192Z, location=server_resource_data, value=59.330957665540126, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:18.194Z, location=server_resource_data, value=59.34752687700512, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:28.196Z, location=server_resource_data, value=59.34067494745193, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:38.198Z, location=server_resource_data, value=59.33960355483089, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:48.199Z, location=server_resource_data, value=59.325177128607976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:58.200Z, location=server_resource_data, value=59.34331605484334, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:08.198Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:18.201Z, location=server_resource_data, value=59.343664880347866, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:28.200Z, location=server_resource_data, value=59.30663954465315, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:00:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:00:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:00:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:00:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:00:42 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:00:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:00:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:00:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 202ms
2025-06-04 23:00:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:55:48.194Z, location=server_resource_data, value=59.28982117211349, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:55:58.194Z, location=server_resource_data, value=59.32522696082291, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:08.192Z, location=server_resource_data, value=59.330957665540126, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:18.194Z, location=server_resource_data, value=59.34752687700512, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:28.196Z, location=server_resource_data, value=59.34067494745193, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:38.198Z, location=server_resource_data, value=59.33960355483089, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:48.199Z, location=server_resource_data, value=59.325177128607976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:58.200Z, location=server_resource_data, value=59.34331605484334, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:08.198Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:18.201Z, location=server_resource_data, value=59.343664880347866, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:28.200Z, location=server_resource_data, value=59.30663954465315, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:00:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:00:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:00:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:00:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:00:52 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:00:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:00:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:00:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 229ms
2025-06-04 23:00:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:55:58.194Z, location=server_resource_data, value=59.32522696082291, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:08.192Z, location=server_resource_data, value=59.330957665540126, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:18.194Z, location=server_resource_data, value=59.34752687700512, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:28.196Z, location=server_resource_data, value=59.34067494745193, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:38.198Z, location=server_resource_data, value=59.33960355483089, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:48.199Z, location=server_resource_data, value=59.325177128607976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:58.200Z, location=server_resource_data, value=59.34331605484334, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:08.198Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:18.201Z, location=server_resource_data, value=59.343664880347866, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:28.200Z, location=server_resource_data, value=59.30663954465315, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:00:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:00:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:01:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:01:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:01:02 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:01:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:01:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:01:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 189ms
2025-06-04 23:01:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:56:08.192Z, location=server_resource_data, value=59.330957665540126, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:18.194Z, location=server_resource_data, value=59.34752687700512, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:28.196Z, location=server_resource_data, value=59.34067494745193, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:38.198Z, location=server_resource_data, value=59.33960355483089, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:48.199Z, location=server_resource_data, value=59.325177128607976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:58.200Z, location=server_resource_data, value=59.34331605484334, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:08.198Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:18.201Z, location=server_resource_data, value=59.343664880347866, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:28.200Z, location=server_resource_data, value=59.30663954465315, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:01:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:01:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:01:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:01:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:01:12 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:01:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:01:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:01:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 86ms
2025-06-04 23:01:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:56:18.194Z, location=server_resource_data, value=59.34752687700512, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:28.196Z, location=server_resource_data, value=59.34067494745193, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:38.198Z, location=server_resource_data, value=59.33960355483089, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:48.199Z, location=server_resource_data, value=59.325177128607976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:58.200Z, location=server_resource_data, value=59.34331605484334, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:08.198Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:18.201Z, location=server_resource_data, value=59.343664880347866, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:28.200Z, location=server_resource_data, value=59.30663954465315, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:01:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:01:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:01:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:01:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:01:22 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:01:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:01:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:01:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 170ms
2025-06-04 23:01:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:56:28.196Z, location=server_resource_data, value=59.34067494745193, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:38.198Z, location=server_resource_data, value=59.33960355483089, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:48.199Z, location=server_resource_data, value=59.325177128607976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:58.200Z, location=server_resource_data, value=59.34331605484334, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:08.198Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:18.201Z, location=server_resource_data, value=59.343664880347866, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:28.200Z, location=server_resource_data, value=59.30663954465315, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:01:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:01:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:01:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:01:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:01:32 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:01:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:01:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:01:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 173ms
2025-06-04 23:01:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:56:38.198Z, location=server_resource_data, value=59.33960355483089, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:48.199Z, location=server_resource_data, value=59.325177128607976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:58.200Z, location=server_resource_data, value=59.34331605484334, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:08.198Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:18.201Z, location=server_resource_data, value=59.343664880347866, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:28.200Z, location=server_resource_data, value=59.30663954465315, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:01:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:01:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:01:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:01:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:01:42 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:01:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:01:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:01:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 39ms
2025-06-04 23:01:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:56:48.199Z, location=server_resource_data, value=59.325177128607976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:56:58.200Z, location=server_resource_data, value=59.34331605484334, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:08.198Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:18.201Z, location=server_resource_data, value=59.343664880347866, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:28.200Z, location=server_resource_data, value=59.30663954465315, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:01:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:01:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:01:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:01:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:01:52 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:01:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:01:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:01:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 121ms
2025-06-04 23:01:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:56:58.200Z, location=server_resource_data, value=59.34331605484334, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:08.198Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:18.201Z, location=server_resource_data, value=59.343664880347866, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:28.200Z, location=server_resource_data, value=59.30663954465315, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:01:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:01:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:01:56 [AsyncResolver-bootstrap-executor-%d] INFO  com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-06-04 23:02:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:02:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:02:02 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:02:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:02:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:02:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 576ms
2025-06-04 23:02:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:57:08.198Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:18.201Z, location=server_resource_data, value=59.343664880347866, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:28.200Z, location=server_resource_data, value=59.30663954465315, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:02:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:02:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:02:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:02:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:02:12 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:02:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:02:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:02:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 212ms
2025-06-04 23:02:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:57:18.201Z, location=server_resource_data, value=59.343664880347866, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:28.200Z, location=server_resource_data, value=59.30663954465315, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:02:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:02:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:02:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:02:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:02:22 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:02:23 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:02:23 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:02:23 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 576ms
2025-06-04 23:02:23 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:57:28.200Z, location=server_resource_data, value=59.30663954465315, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:02:23 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:02:23 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:02:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:02:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:02:32 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:02:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:02:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:02:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 260ms
2025-06-04 23:02:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:57:38.198Z, location=server_resource_data, value=59.34413828638973, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:02:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:02:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:02:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:02:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:02:42 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:02:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:02:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:02:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 248ms
2025-06-04 23:02:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:57:48.201Z, location=server_resource_data, value=59.32756907492473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:02:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:02:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:02:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:02:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:02:52 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:02:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:02:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:02:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 233ms
2025-06-04 23:02:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:57:58.203Z, location=server_resource_data, value=59.31653123931722, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:02:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:02:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:03:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:03:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:03:02 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:03:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:03:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:03:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 575ms
2025-06-04 23:03:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:58:08.200Z, location=server_resource_data, value=59.28673157478769, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:03:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:03:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:03:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:03:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:03:12 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:03:13 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:03:13 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:03:13 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 577ms
2025-06-04 23:03:13 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:58:18.206Z, location=server_resource_data, value=59.30950489701176, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:03:13 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:03:13 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:03:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:03:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:03:22 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:03:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:03:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:03:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 260ms
2025-06-04 23:03:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:58:28.205Z, location=server_resource_data, value=59.33205397426864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:03:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:03:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:03:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:03:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:03:32 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:03:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:03:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:03:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 240ms
2025-06-04 23:03:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:58:38.208Z, location=server_resource_data, value=59.314886776224455, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:03:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:03:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:03:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:03:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:03:42 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:03:43 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:03:43 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:03:43 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 575ms
2025-06-04 23:03:43 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:58:48.207Z, location=server_resource_data, value=59.298068403684795, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:03:43 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:03:43 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:03:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:03:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:03:52 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:03:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:03:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:03:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 260ms
2025-06-04 23:03:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:58:58.212Z, location=server_resource_data, value=59.31431370575273, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:03:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:03:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:04:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:04:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:04:02 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:04:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:04:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:04:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 250ms
2025-06-04 23:04:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:59:08.210Z, location=server_resource_data, value=59.33501899105711, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:04:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:04:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:04:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:04:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:04:12 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:04:13 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:04:13 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:04:13 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 573ms
2025-06-04 23:04:13 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:59:18.207Z, location=server_resource_data, value=59.34256857161936, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:04:13 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:04:13 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:04:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:04:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:04:22 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:04:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:04:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:04:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 44ms
2025-06-04 23:04:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:59:28.209Z, location=server_resource_data, value=59.334620333337654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:04:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:04:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:04:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:04:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:04:32 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:04:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:04:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:04:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 322ms
2025-06-04 23:04:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:59:38.210Z, location=server_resource_data, value=59.38694415901659, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:04:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:04:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:04:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:04:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:04:42 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:04:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:04:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:04:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 183ms
2025-06-04 23:04:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:59:48.211Z, location=server_resource_data, value=59.339130148789025, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:04:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:04:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:04:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:04:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:04:52 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:04:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:04:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:04:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 232ms
2025-06-04 23:04:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T13:59:58.209Z, location=server_resource_data, value=59.35066630654586, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:04:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:04:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:05:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:05:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:05:02 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:05:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:05:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:05:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 574ms
2025-06-04 23:05:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:00:08.230Z, location=server_resource_data, value=59.34137259846098, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:05:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:05:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:05:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:05:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:05:12 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:05:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:05:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:05:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 37ms
2025-06-04 23:05:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:00:18.217Z, location=server_resource_data, value=59.36611429317488, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:05:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:05:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:05:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:05:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:05:22 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:05:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:05:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:05:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 168ms
2025-06-04 23:05:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:00:28.213Z, location=server_resource_data, value=59.35632226294068, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:05:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:05:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:05:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:05:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:05:32 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:05:33 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:05:33 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:05:33 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 574ms
2025-06-04 23:05:33 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:00:38.214Z, location=server_resource_data, value=59.29846706140425, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:05:33 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:05:33 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:05:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:05:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:05:42 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:05:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:05:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:05:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 93ms
2025-06-04 23:05:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:00:48.216Z, location=server_resource_data, value=59.30599172585903, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:05:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:05:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:05:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:05:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:05:52 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:05:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:05:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:05:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 175ms
2025-06-04 23:05:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:00:58.215Z, location=server_resource_data, value=59.28792754794607, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:05:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:05:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:06:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:06:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:06:02 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:06:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:06:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:06:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 207ms
2025-06-04 23:06:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:01:08.216Z, location=server_resource_data, value=59.29213837010785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:06:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:06:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:06:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:06:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:06:12 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:06:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:06:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:06:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 156ms
2025-06-04 23:06:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:01:18.217Z, location=server_resource_data, value=59.29517813521872, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:06:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:06:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:06:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:06:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:06:22 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:06:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:06:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:06:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 366ms
2025-06-04 23:06:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:01:28.219Z, location=server_resource_data, value=59.29866639026398, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:06:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:06:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:06:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:06:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:06:32 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:06:33 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:06:33 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:06:33 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 576ms
2025-06-04 23:06:33 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:01:38.216Z, location=server_resource_data, value=59.28588442713384, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:28.233Z, location=server_resource_data, value=59.27110917540641, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:06:33 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:06:33 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:06:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:06:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:06:42 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:06:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:06:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:06:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 224ms
2025-06-04 23:06:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:01:48.218Z, location=server_resource_data, value=59.26879197741205, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:28.233Z, location=server_resource_data, value=59.27110917540641, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:38.237Z, location=server_resource_data, value=59.314986440654316, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:06:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:06:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:06:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:06:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:06:52 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:06:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:06:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:06:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 230ms
2025-06-04 23:06:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:01:58.218Z, location=server_resource_data, value=59.28070187678088, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:28.233Z, location=server_resource_data, value=59.27110917540641, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:38.237Z, location=server_resource_data, value=59.314986440654316, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:48.242Z, location=server_resource_data, value=59.31954608832062, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:06:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:06:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:06:56 [AsyncResolver-bootstrap-executor-%d] INFO  com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-06-04 23:07:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:07:02 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:07:02 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:07:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:07:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:07:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 398ms
2025-06-04 23:07:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:02:08.224Z, location=server_resource_data, value=59.31022746412828, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:28.233Z, location=server_resource_data, value=59.27110917540641, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:38.237Z, location=server_resource_data, value=59.314986440654316, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:48.242Z, location=server_resource_data, value=59.31954608832062, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:58.237Z, location=server_resource_data, value=59.33761026623359, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:07:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:07:03 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:07:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:07:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:07:12 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:07:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:07:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:07:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 371ms
2025-06-04 23:07:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:02:18.224Z, location=server_resource_data, value=59.271707161985596, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:28.233Z, location=server_resource_data, value=59.27110917540641, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:38.237Z, location=server_resource_data, value=59.314986440654316, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:48.242Z, location=server_resource_data, value=59.31954608832062, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:58.237Z, location=server_resource_data, value=59.33761026623359, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:08.237Z, location=server_resource_data, value=59.36464424283437, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:07:12 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:07:13 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:07:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:07:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:07:22 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:07:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:07:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:07:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 33ms
2025-06-04 23:07:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:02:28.227Z, location=server_resource_data, value=59.31533526615884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:28.233Z, location=server_resource_data, value=59.27110917540641, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:38.237Z, location=server_resource_data, value=59.314986440654316, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:48.242Z, location=server_resource_data, value=59.31954608832062, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:58.237Z, location=server_resource_data, value=59.33761026623359, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:08.237Z, location=server_resource_data, value=59.36464424283437, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:18.238Z, location=server_resource_data, value=59.360134427383, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:07:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:07:22 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:07:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:07:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:07:32 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:07:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:07:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:07:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 43ms
2025-06-04 23:07:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:02:38.227Z, location=server_resource_data, value=59.329786608489215, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:28.233Z, location=server_resource_data, value=59.27110917540641, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:38.237Z, location=server_resource_data, value=59.314986440654316, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:48.242Z, location=server_resource_data, value=59.31954608832062, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:58.237Z, location=server_resource_data, value=59.33761026623359, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:08.237Z, location=server_resource_data, value=59.36464424283437, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:18.238Z, location=server_resource_data, value=59.360134427383, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:28.241Z, location=server_resource_data, value=59.3633735213536, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:07:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:07:32 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:07:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:07:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:07:42 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:07:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:07:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:07:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 80ms
2025-06-04 23:07:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:02:48.229Z, location=server_resource_data, value=59.317602631938264, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:28.233Z, location=server_resource_data, value=59.27110917540641, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:38.237Z, location=server_resource_data, value=59.314986440654316, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:48.242Z, location=server_resource_data, value=59.31954608832062, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:58.237Z, location=server_resource_data, value=59.33761026623359, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:08.237Z, location=server_resource_data, value=59.36464424283437, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:18.238Z, location=server_resource_data, value=59.360134427383, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:28.241Z, location=server_resource_data, value=59.3633735213536, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:38.242Z, location=server_resource_data, value=59.33133140715212, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:07:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:07:42 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:07:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:07:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:07:52 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:07:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:07:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:07:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 238ms
2025-06-04 23:07:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:02:58.225Z, location=server_resource_data, value=59.3025533030287, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:28.233Z, location=server_resource_data, value=59.27110917540641, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:38.237Z, location=server_resource_data, value=59.314986440654316, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:48.242Z, location=server_resource_data, value=59.31954608832062, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:58.237Z, location=server_resource_data, value=59.33761026623359, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:08.237Z, location=server_resource_data, value=59.36464424283437, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:18.238Z, location=server_resource_data, value=59.360134427383, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:28.241Z, location=server_resource_data, value=59.3633735213536, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:38.242Z, location=server_resource_data, value=59.33133140715212, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:48.241Z, location=server_resource_data, value=59.32692125613061, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:07:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:07:52 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:08:02 [websocket-scheduler-6] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:08:02 [websocket-scheduler-6] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:08:02 [websocket-scheduler-6] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:08:02 [websocket-scheduler-6] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:08:02 [websocket-scheduler-6] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:08:02 [websocket-scheduler-6] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 139ms
2025-06-04 23:08:02 [websocket-scheduler-6] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:03:08.226Z, location=server_resource_data, value=59.27898266536571, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:28.233Z, location=server_resource_data, value=59.27110917540641, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:38.237Z, location=server_resource_data, value=59.314986440654316, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:48.242Z, location=server_resource_data, value=59.31954608832062, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:58.237Z, location=server_resource_data, value=59.33761026623359, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:08.237Z, location=server_resource_data, value=59.36464424283437, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:18.238Z, location=server_resource_data, value=59.360134427383, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:28.241Z, location=server_resource_data, value=59.3633735213536, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:38.242Z, location=server_resource_data, value=59.33133140715212, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:48.241Z, location=server_resource_data, value=59.32692125613061, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:58.241Z, location=server_resource_data, value=59.35223602131623, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:08:02 [websocket-scheduler-6] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:08:02 [websocket-scheduler-6] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:08:12 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:08:12 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:08:12 [websocket-scheduler-1] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:08:12 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:08:12 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:08:12 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 31ms
2025-06-04 23:08:12 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:03:18.226Z, location=server_resource_data, value=59.28144936000486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:28.233Z, location=server_resource_data, value=59.27110917540641, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:38.237Z, location=server_resource_data, value=59.314986440654316, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:48.242Z, location=server_resource_data, value=59.31954608832062, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:58.237Z, location=server_resource_data, value=59.33761026623359, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:08.237Z, location=server_resource_data, value=59.36464424283437, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:18.238Z, location=server_resource_data, value=59.360134427383, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:28.241Z, location=server_resource_data, value=59.3633735213536, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:38.242Z, location=server_resource_data, value=59.33133140715212, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:48.241Z, location=server_resource_data, value=59.32692125613061, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:58.241Z, location=server_resource_data, value=59.35223602131623, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:08.243Z, location=server_resource_data, value=59.33016035010121, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:08:12 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:08:12 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:08:22 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:08:22 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:08:22 [websocket-scheduler-1] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:08:22 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:08:22 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:08:22 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 112ms
2025-06-04 23:08:22 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:03:28.228Z, location=server_resource_data, value=59.29971286677756, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:28.233Z, location=server_resource_data, value=59.27110917540641, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:38.237Z, location=server_resource_data, value=59.314986440654316, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:48.242Z, location=server_resource_data, value=59.31954608832062, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:58.237Z, location=server_resource_data, value=59.33761026623359, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:08.237Z, location=server_resource_data, value=59.36464424283437, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:18.238Z, location=server_resource_data, value=59.360134427383, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:28.241Z, location=server_resource_data, value=59.3633735213536, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:38.242Z, location=server_resource_data, value=59.33133140715212, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:48.241Z, location=server_resource_data, value=59.32692125613061, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:58.241Z, location=server_resource_data, value=59.35223602131623, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:08.243Z, location=server_resource_data, value=59.33016035010121, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:18.244Z, location=server_resource_data, value=59.344063538067324, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:08:22 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:08:22 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:08:32 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:08:32 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:08:32 [websocket-scheduler-1] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:08:32 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:08:32 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:08:32 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 127ms
2025-06-04 23:08:32 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:03:38.228Z, location=server_resource_data, value=59.295551876830714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:28.233Z, location=server_resource_data, value=59.27110917540641, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:38.237Z, location=server_resource_data, value=59.314986440654316, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:48.242Z, location=server_resource_data, value=59.31954608832062, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:58.237Z, location=server_resource_data, value=59.33761026623359, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:08.237Z, location=server_resource_data, value=59.36464424283437, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:18.238Z, location=server_resource_data, value=59.360134427383, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:28.241Z, location=server_resource_data, value=59.3633735213536, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:38.242Z, location=server_resource_data, value=59.33133140715212, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:48.241Z, location=server_resource_data, value=59.32692125613061, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:58.241Z, location=server_resource_data, value=59.35223602131623, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:08.243Z, location=server_resource_data, value=59.33016035010121, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:18.244Z, location=server_resource_data, value=59.344063538067324, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:28.241Z, location=server_resource_data, value=59.35178753138184, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:08:32 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:08:32 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:08:42 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:08:42 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:08:42 [websocket-scheduler-1] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:08:42 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:08:42 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:08:42 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 131ms
2025-06-04 23:08:42 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:03:48.225Z, location=server_resource_data, value=59.280627128458484, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:28.233Z, location=server_resource_data, value=59.27110917540641, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:38.237Z, location=server_resource_data, value=59.314986440654316, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:48.242Z, location=server_resource_data, value=59.31954608832062, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:58.237Z, location=server_resource_data, value=59.33761026623359, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:08.237Z, location=server_resource_data, value=59.36464424283437, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:18.238Z, location=server_resource_data, value=59.360134427383, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:28.241Z, location=server_resource_data, value=59.3633735213536, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:38.242Z, location=server_resource_data, value=59.33133140715212, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:48.241Z, location=server_resource_data, value=59.32692125613061, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:58.241Z, location=server_resource_data, value=59.35223602131623, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:08.243Z, location=server_resource_data, value=59.33016035010121, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:18.244Z, location=server_resource_data, value=59.344063538067324, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:28.241Z, location=server_resource_data, value=59.35178753138184, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:38.242Z, location=server_resource_data, value=59.35684550119747, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:08:42 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:08:42 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:08:52 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:08:52 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:08:52 [websocket-scheduler-1] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:08:52 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:08:52 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:08:52 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 25ms
2025-06-04 23:08:52 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:03:58.228Z, location=server_resource_data, value=59.3258249474021, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:08.228Z, location=server_resource_data, value=59.31052645741787, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:18.231Z, location=server_resource_data, value=59.32771857156953, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:28.231Z, location=server_resource_data, value=59.339254729326356, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:38.231Z, location=server_resource_data, value=59.334545585015256, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:48.228Z, location=server_resource_data, value=59.30987863862375, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:04:58.228Z, location=server_resource_data, value=59.30354994732735, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:08.231Z, location=server_resource_data, value=59.30639038357849, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:18.232Z, location=server_resource_data, value=59.31496152454685, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:28.234Z, location=server_resource_data, value=59.316232246027624, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:38.234Z, location=server_resource_data, value=59.30624088693369, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:48.234Z, location=server_resource_data, value=59.33327486353448, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:05:58.230Z, location=server_resource_data, value=59.31010288359095, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:08.233Z, location=server_resource_data, value=59.297221256030944, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:18.232Z, location=server_resource_data, value=59.288500618417785, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:28.233Z, location=server_resource_data, value=59.27110917540641, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:38.237Z, location=server_resource_data, value=59.314986440654316, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:48.242Z, location=server_resource_data, value=59.31954608832062, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:06:58.237Z, location=server_resource_data, value=59.33761026623359, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:08.237Z, location=server_resource_data, value=59.36464424283437, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:18.238Z, location=server_resource_data, value=59.360134427383, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:28.241Z, location=server_resource_data, value=59.3633735213536, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:38.242Z, location=server_resource_data, value=59.33133140715212, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:48.241Z, location=server_resource_data, value=59.32692125613061, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:07:58.241Z, location=server_resource_data, value=59.35223602131623, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:08.243Z, location=server_resource_data, value=59.33016035010121, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:18.244Z, location=server_resource_data, value=59.344063538067324, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:28.241Z, location=server_resource_data, value=59.35178753138184, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:38.242Z, location=server_resource_data, value=59.35684550119747, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:48.247Z, location=server_resource_data, value=59.334097095080864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:08:52 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:08:52 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, 데이터 건수: 30
2025-06-04 23:08:53 [http-nio-10273-exec-8] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - StandardWebSocketSession[id=f1b2cc76-c499-e7b2-398f-9afe9235e48a, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA] closed with CloseStatus[code=1002, reason=null]
2025-06-04 23:08:53 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed()
2025-06-04 23:08:53 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 종료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, companyDomain: javame, status: CloseStatus[code=1002, reason=null]
2025-06-04 23:08:53 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession()
2025-06-04 23:08:53 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 제거 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a, companyDomain: javame, 총 세션 수: 0
2025-06-04 23:08:53 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession() => 0ms
2025-06-04 23:08:53 [http-nio-10273-exec-8] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 기존 스케줄 취소 완료 - sessionId: f1b2cc76-c499-e7b2-398f-9afe9235e48a
2025-06-04 23:08:53 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:08:53 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 0ms
2025-06-04 23:08:53 [http-nio-10273-exec-8] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 0
2025-06-04 23:08:53 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed() => 0ms
2025-06-04 23:08:53 [http-nio-10273-exec-9] DEBUG org.springframework.web.socket.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@68c7162b
2025-06-04 23:08:53 [http-nio-10273-exec-9] DEBUG org.springframework.web.socket.server.support.WebSocketHttpRequestHandler - GET /ws/environment
2025-06-04 23:08:53 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake()
2025-06-04 23:08:53 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 시작 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:08:53 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Query parameter에서 토큰 추출 성공
2025-06-04 23:08:53 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT 토큰 검증 성공
2025-06-04 23:08:53 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT Claims 파싱 성공 - sub: test@javame.com, role: ROLE_OWNER
2025-06-04 23:08:53 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 시작 - userEmail: test@javame.com, role: ROLE_OWNER, uri: /members/me
2025-06-04 23:08:53 [http-nio-10273-exec-9] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 실패, fallback 사용. userEmail: test@javame.com, role: ROLE_OWNER
java.lang.NullPointerException: fallbackValue must not be null
	at java.base/java.util.Objects.requireNonNull(Objects.java:259) ~[?:?]
	at reactor.core.publisher.Mono.onErrorReturn(Mono.java:3953) ~[reactor-core-3.7.4.jar:3.7.4]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.getCompanyDomainFromMemberApi(AuthHandshakeInterceptor.java:230) ~[classes/:?]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake(AuthHandshakeInterceptor.java:88) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.config.TraceAspect.logMethodCall(TraceAspect.java:28) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor$$SpringCGLIB$$0.beforeHandshake(<generated>) ~[classes/:?]
	at org.springframework.web.socket.server.support.HandshakeInterceptorChain.applyBeforeHandshake(HandshakeInterceptorChain.java:60) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.socket.server.support.WebSocketHttpRequestHandler.handleRequest(WebSocketHttpRequestHandler.java:174) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-04 23:08:53 [http-nio-10273-exec-9] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 실패 - companyDomain을 조회할 수 없습니다. userEmail: test@javame.com
2025-06-04 23:08:53 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - 이메일에서 companyDomain 추출: test@javame.com -> javame
2025-06-04 23:08:53 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 성공 - userEmail: test@javame.com, role: ROLE_OWNER, companyDomain: javame
2025-06-04 23:08:53 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake() => 2ms
2025-06-04 23:08:53 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake()
2025-06-04 23:08:53 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 완료 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:08:53 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake() => 0ms
2025-06-04 23:08:53 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages()
2025-06-04 23:08:53 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages() => 0ms
2025-06-04 23:08:53 [http-nio-10273-exec-9] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - New StandardWebSocketSession[id=9754f5ea-1e93-a3d1-e907-b8f406d85f45, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA]
2025-06-04 23:08:53 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished()
2025-06-04 23:08:53 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession()
2025-06-04 23:08:53 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 추가 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, companyDomain: javame, userEmail: test@javame.com, 총 세션 수: 1
2025-06-04 23:08:53 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession() => 0ms
2025-06-04 23:08:53 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 성공 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, companyDomain: javame, userEmail: test@javame.com
2025-06-04 23:08:53 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:08:53 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 0ms
2025-06-04 23:08:53 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 1
2025-06-04 23:08:53 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished() => 0ms
2025-06-04 23:08:53 [http-nio-10273-exec-10] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 메시지 수신 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, message: {"action":"subscribe","companyDomain":"","rangeMinutes":5,"building":"gyeongnam_campus","origin":"server_data","location":"server_resource_data","deviceId":"192.168.71.74","place":"server_room","gatewayId":"system","measurement":"load1","_measurement":"load1","_measurementLabel":"1분 평균 부하"}
2025-06-04 23:08:53 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:08:53 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:08:53 [websocket-scheduler-7] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:08:53 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:08:53 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 구독 설정 완료 (직접 전송 방식) - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:08:53 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:08:53 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:08:53 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 69ms
2025-06-04 23:08:53 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:03:58.230Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:08.233Z, location=server_resource_data, value=0.77, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:18.232Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:28.232Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:38.232Z, location=server_resource_data, value=0.46, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:48.234Z, location=server_resource_data, value=0.47, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:58.232Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:08.233Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:18.234Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:28.239Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:38.236Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:48.235Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:58.237Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:08.238Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:18.241Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:08:53 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:08:53 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:08:53 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor()
2025-06-04 23:08:53 [http-nio-10273-exec-1] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getChartDataForSensor, 파라미터 = [javame.com, load1, server_data, 5]
2025-06-04 23:08:53 [http-nio-10273-exec-1] DEBUG com.nhnacademy.environment.controller.TimeSeriesDataController - chart called: companyDomain=javame.com, origin=server_data, rangeMinutes=5
2025-06-04 23:08:53 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData()
2025-06-04 23:08:54 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData() => 188ms
2025-06-04 23:08:54 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor() => 189ms
2025-06-04 23:08:54 [http-nio-10273-exec-3] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData()
2025-06-04 23:08:54 [http-nio-10273-exec-3] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getPieChartData, 파라미터 = [javame.com, server_data]
2025-06-04 23:08:54 [http-nio-10273-exec-3] INFO  com.nhnacademy.environment.controller.TimeSeriesDataController - pie called: companyDomain=javame, origin=server_data
2025-06-04 23:08:54 [http-nio-10273-exec-3] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData()
2025-06-04 23:08:55 [http-nio-10273-exec-3] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData() => 240ms
2025-06-04 23:08:55 [http-nio-10273-exec-3] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData() => 240ms
2025-06-04 23:09:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:09:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:09:03 [websocket-scheduler-8] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:09:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:09:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:09:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 268ms
2025-06-04 23:09:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:04:08.233Z, location=server_resource_data, value=0.77, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:18.232Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:28.232Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:38.232Z, location=server_resource_data, value=0.46, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:48.234Z, location=server_resource_data, value=0.47, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:58.232Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:08.233Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:18.234Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:28.239Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:38.236Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:48.235Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:58.237Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:08.238Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:18.241Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:58.254Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:09:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:09:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:09:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:09:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:09:13 [websocket-scheduler-8] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:09:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:09:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:09:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 80ms
2025-06-04 23:09:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:04:18.232Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:28.232Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:38.232Z, location=server_resource_data, value=0.46, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:48.234Z, location=server_resource_data, value=0.47, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:58.232Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:08.233Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:18.234Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:28.239Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:38.236Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:48.235Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:58.237Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:08.238Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:18.241Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:58.254Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:08.251Z, location=server_resource_data, value=0.76, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:09:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:09:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:09:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:09:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:09:23 [websocket-scheduler-8] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:09:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:09:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:09:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 29ms
2025-06-04 23:09:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:04:28.232Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:38.232Z, location=server_resource_data, value=0.46, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:48.234Z, location=server_resource_data, value=0.47, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:58.232Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:08.233Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:18.234Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:28.239Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:38.236Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:48.235Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:58.237Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:08.238Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:18.241Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:58.254Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:08.251Z, location=server_resource_data, value=0.76, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:18.247Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:09:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:09:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:09:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:09:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:09:33 [websocket-scheduler-8] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:09:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:09:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:09:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 230ms
2025-06-04 23:09:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:04:38.232Z, location=server_resource_data, value=0.46, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:48.234Z, location=server_resource_data, value=0.47, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:58.232Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:08.233Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:18.234Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:28.239Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:38.236Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:48.235Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:58.237Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:08.238Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:18.241Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:58.254Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:08.251Z, location=server_resource_data, value=0.76, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:18.247Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:28.253Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:09:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:09:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:09:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:09:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:09:43 [websocket-scheduler-8] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:09:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:09:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:09:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 40ms
2025-06-04 23:09:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:04:48.234Z, location=server_resource_data, value=0.47, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:04:58.232Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:08.233Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:18.234Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:28.239Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:38.236Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:48.235Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:58.237Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:08.238Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:18.241Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:58.254Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:08.251Z, location=server_resource_data, value=0.76, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:18.247Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:28.253Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:38.251Z, location=server_resource_data, value=0.54, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:09:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:09:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:09:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:09:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:09:53 [websocket-scheduler-8] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:09:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:09:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:09:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 79ms
2025-06-04 23:09:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:04:58.232Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:08.233Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:18.234Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:28.239Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:38.236Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:48.235Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:58.237Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:08.238Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:18.241Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:58.254Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:08.251Z, location=server_resource_data, value=0.76, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:18.247Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:28.253Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:38.251Z, location=server_resource_data, value=0.54, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:48.252Z, location=server_resource_data, value=0.6, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:09:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:09:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:10:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:10:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:10:03 [websocket-scheduler-8] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:10:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:10:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:10:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 81ms
2025-06-04 23:10:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:05:08.233Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:18.234Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:28.239Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:38.236Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:48.235Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:58.237Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:08.238Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:18.241Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:58.254Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:08.251Z, location=server_resource_data, value=0.76, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:18.247Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:28.253Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:38.251Z, location=server_resource_data, value=0.54, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:48.252Z, location=server_resource_data, value=0.6, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:58.256Z, location=server_resource_data, value=0.51, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:10:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:10:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:10:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:10:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:10:13 [websocket-scheduler-8] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:10:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:10:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:10:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 78ms
2025-06-04 23:10:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:05:18.234Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:28.239Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:38.236Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:48.235Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:58.237Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:08.238Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:18.241Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:58.254Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:08.251Z, location=server_resource_data, value=0.76, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:18.247Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:28.253Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:38.251Z, location=server_resource_data, value=0.54, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:48.252Z, location=server_resource_data, value=0.6, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:58.256Z, location=server_resource_data, value=0.51, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:08.252Z, location=server_resource_data, value=0.43, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:10:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:10:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:10:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:10:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:10:23 [websocket-scheduler-8] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:10:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:10:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:10:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 79ms
2025-06-04 23:10:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:05:28.239Z, location=server_resource_data, value=0.53, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:38.236Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:48.235Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:58.237Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:08.238Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:18.241Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:58.254Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:08.251Z, location=server_resource_data, value=0.76, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:18.247Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:28.253Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:38.251Z, location=server_resource_data, value=0.54, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:48.252Z, location=server_resource_data, value=0.6, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:58.256Z, location=server_resource_data, value=0.51, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:08.252Z, location=server_resource_data, value=0.43, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:18.255Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:10:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:10:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:10:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:10:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:10:33 [websocket-scheduler-8] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:10:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:10:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:10:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 50ms
2025-06-04 23:10:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:05:38.236Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:48.235Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:58.237Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:08.238Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:18.241Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:58.254Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:08.251Z, location=server_resource_data, value=0.76, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:18.247Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:28.253Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:38.251Z, location=server_resource_data, value=0.54, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:48.252Z, location=server_resource_data, value=0.6, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:58.256Z, location=server_resource_data, value=0.51, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:08.252Z, location=server_resource_data, value=0.43, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:18.255Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:28.252Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:10:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:10:33 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:10:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:10:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:10:43 [websocket-scheduler-8] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:10:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:10:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:10:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 73ms
2025-06-04 23:10:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:05:48.235Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:05:58.237Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:08.238Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:18.241Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:58.254Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:08.251Z, location=server_resource_data, value=0.76, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:18.247Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:28.253Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:38.251Z, location=server_resource_data, value=0.54, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:48.252Z, location=server_resource_data, value=0.6, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:58.256Z, location=server_resource_data, value=0.51, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:08.252Z, location=server_resource_data, value=0.43, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:18.255Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:28.252Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:38.252Z, location=server_resource_data, value=0.45, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:10:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:10:43 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:10:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:10:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:10:53 [websocket-scheduler-8] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:10:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:10:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:10:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 204ms
2025-06-04 23:10:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:05:58.237Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:08.238Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:18.241Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:58.254Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:08.251Z, location=server_resource_data, value=0.76, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:18.247Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:28.253Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:38.251Z, location=server_resource_data, value=0.54, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:48.252Z, location=server_resource_data, value=0.6, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:58.256Z, location=server_resource_data, value=0.51, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:08.252Z, location=server_resource_data, value=0.43, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:18.255Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:28.252Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:38.252Z, location=server_resource_data, value=0.45, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:48.259Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:10:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:10:53 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:11:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:11:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:11:03 [websocket-scheduler-8] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:11:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:11:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:11:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 34ms
2025-06-04 23:11:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:06:08.238Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:18.241Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:58.254Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:08.251Z, location=server_resource_data, value=0.76, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:18.247Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:28.253Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:38.251Z, location=server_resource_data, value=0.54, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:48.252Z, location=server_resource_data, value=0.6, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:58.256Z, location=server_resource_data, value=0.51, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:08.252Z, location=server_resource_data, value=0.43, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:18.255Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:28.252Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:38.252Z, location=server_resource_data, value=0.45, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:48.259Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:58.255Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:11:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:11:03 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:11:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:11:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:11:13 [websocket-scheduler-8] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:11:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:11:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:11:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 130ms
2025-06-04 23:11:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:06:18.241Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:58.254Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:08.251Z, location=server_resource_data, value=0.76, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:18.247Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:28.253Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:38.251Z, location=server_resource_data, value=0.54, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:48.252Z, location=server_resource_data, value=0.6, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:58.256Z, location=server_resource_data, value=0.51, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:08.252Z, location=server_resource_data, value=0.43, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:18.255Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:28.252Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:38.252Z, location=server_resource_data, value=0.45, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:48.259Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:58.255Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:11:08.257Z, location=server_resource_data, value=0.33, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:11:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:11:13 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:11:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:11:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 5
2025-06-04 23:11:23 [websocket-scheduler-8] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:11:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:11:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=5
2025-06-04 23:11:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 34ms
2025-06-04 23:11:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:06:28.237Z, location=server_resource_data, value=0.62, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:38.242Z, location=server_resource_data, value=0.85, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:48.245Z, location=server_resource_data, value=0.71, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:06:58.240Z, location=server_resource_data, value=0.68, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:08.242Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:18.244Z, location=server_resource_data, value=0.86, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:28.245Z, location=server_resource_data, value=0.73, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:38.246Z, location=server_resource_data, value=0.61, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:48.245Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:07:58.242Z, location=server_resource_data, value=0.59, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:08.247Z, location=server_resource_data, value=0.5, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:18.249Z, location=server_resource_data, value=0.66, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:28.243Z, location=server_resource_data, value=0.72, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:38.247Z, location=server_resource_data, value=0.69, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:48.249Z, location=server_resource_data, value=0.58, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:08:58.254Z, location=server_resource_data, value=0.64, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:08.251Z, location=server_resource_data, value=0.76, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:18.247Z, location=server_resource_data, value=0.65, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:28.253Z, location=server_resource_data, value=0.55, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:38.251Z, location=server_resource_data, value=0.54, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:48.252Z, location=server_resource_data, value=0.6, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:09:58.256Z, location=server_resource_data, value=0.51, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:08.252Z, location=server_resource_data, value=0.43, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:18.255Z, location=server_resource_data, value=0.52, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:28.252Z, location=server_resource_data, value=0.44, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:38.252Z, location=server_resource_data, value=0.45, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:48.259Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:58.255Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:11:08.257Z, location=server_resource_data, value=0.33, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:11:18.259Z, location=server_resource_data, value=0.36, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:11:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:11:23 [websocket-scheduler-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, 데이터 건수: 30
2025-06-04 23:11:28 [http-nio-10273-exec-4] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - StandardWebSocketSession[id=9754f5ea-1e93-a3d1-e907-b8f406d85f45, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA] closed with CloseStatus[code=1002, reason=null]
2025-06-04 23:11:28 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed()
2025-06-04 23:11:28 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 종료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, companyDomain: javame, status: CloseStatus[code=1002, reason=null]
2025-06-04 23:11:28 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession()
2025-06-04 23:11:28 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 제거 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45, companyDomain: javame, 총 세션 수: 0
2025-06-04 23:11:28 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession() => 0ms
2025-06-04 23:11:28 [http-nio-10273-exec-4] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 기존 스케줄 취소 완료 - sessionId: 9754f5ea-1e93-a3d1-e907-b8f406d85f45
2025-06-04 23:11:28 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:11:28 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 0ms
2025-06-04 23:11:28 [http-nio-10273-exec-4] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 0
2025-06-04 23:11:28 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed() => 0ms
2025-06-04 23:11:28 [http-nio-10273-exec-5] DEBUG org.springframework.web.socket.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@68c7162b
2025-06-04 23:11:28 [http-nio-10273-exec-5] DEBUG org.springframework.web.socket.server.support.WebSocketHttpRequestHandler - GET /ws/environment
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake()
2025-06-04 23:11:28 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 시작 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:11:28 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Query parameter에서 토큰 추출 성공
2025-06-04 23:11:28 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT 토큰 검증 성공
2025-06-04 23:11:28 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT Claims 파싱 성공 - sub: test@javame.com, role: ROLE_OWNER
2025-06-04 23:11:28 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 시작 - userEmail: test@javame.com, role: ROLE_OWNER, uri: /members/me
2025-06-04 23:11:28 [http-nio-10273-exec-5] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 실패, fallback 사용. userEmail: test@javame.com, role: ROLE_OWNER
java.lang.NullPointerException: fallbackValue must not be null
	at java.base/java.util.Objects.requireNonNull(Objects.java:259) ~[?:?]
	at reactor.core.publisher.Mono.onErrorReturn(Mono.java:3953) ~[reactor-core-3.7.4.jar:3.7.4]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.getCompanyDomainFromMemberApi(AuthHandshakeInterceptor.java:230) ~[classes/:?]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake(AuthHandshakeInterceptor.java:88) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.config.TraceAspect.logMethodCall(TraceAspect.java:28) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor$$SpringCGLIB$$0.beforeHandshake(<generated>) ~[classes/:?]
	at org.springframework.web.socket.server.support.HandshakeInterceptorChain.applyBeforeHandshake(HandshakeInterceptorChain.java:60) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.socket.server.support.WebSocketHttpRequestHandler.handleRequest(WebSocketHttpRequestHandler.java:174) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-04 23:11:28 [http-nio-10273-exec-5] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 실패 - companyDomain을 조회할 수 없습니다. userEmail: test@javame.com
2025-06-04 23:11:28 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - 이메일에서 companyDomain 추출: test@javame.com -> javame
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 성공 - userEmail: test@javame.com, role: ROLE_OWNER, companyDomain: javame
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake() => 2ms
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake()
2025-06-04 23:11:28 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 완료 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake() => 0ms
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages()
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages() => 0ms
2025-06-04 23:11:28 [http-nio-10273-exec-5] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - New StandardWebSocketSession[id=fad9c22f-f768-0c46-05a4-e9d1b4629d77, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA]
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished()
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession()
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 추가 완료 - sessionId: fad9c22f-f768-0c46-05a4-e9d1b4629d77, companyDomain: javame, userEmail: test@javame.com, 총 세션 수: 1
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession() => 0ms
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 성공 - sessionId: fad9c22f-f768-0c46-05a4-e9d1b4629d77, companyDomain: javame, userEmail: test@javame.com
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 0ms
2025-06-04 23:11:28 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 1
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished() => 0ms
2025-06-04 23:11:28 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 메시지 수신 - sessionId: fad9c22f-f768-0c46-05a4-e9d1b4629d77, message: {"action":"subscribe","companyDomain":"","rangeMinutes":1,"building":"gyeongnam_campus","origin":"server_data","location":"server_resource_data","deviceId":"192.168.71.74","place":"server_room","gatewayId":"system","measurement":"load1","_measurement":"load1","_measurementLabel":"1분 평균 부하"}
2025-06-04 23:11:28 [websocket-scheduler-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:11:28 [websocket-scheduler-5] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: load1, gatewayId: system, rangeMinutes: 1
2025-06-04 23:11:28 [websocket-scheduler-5] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -1m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "load1") |> filter(fn: (r) => r["gatewayId"] == "system") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=1
2025-06-04 23:11:28 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 구독 설정 완료 (직접 전송 방식) - sessionId: fad9c22f-f768-0c46-05a4-e9d1b4629d77
2025-06-04 23:11:28 [websocket-scheduler-5] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 5건
2025-06-04 23:11:28 [websocket-scheduler-5] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=load1, gatewayId=system, rangeMinutes=1
2025-06-04 23:11:28 [websocket-scheduler-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 33ms
2025-06-04 23:11:28 [websocket-scheduler-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:10:38.252Z, location=server_resource_data, value=0.45, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:48.259Z, location=server_resource_data, value=0.38, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:10:58.255Z, location=server_resource_data, value=0.39, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:11:08.257Z, location=server_resource_data, value=0.33, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system}), TimeSeriesDataDto(time=2025-06-04T14:11:18.259Z, location=server_resource_data, value=0.36, measurement=load1, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=system})]
2025-06-04 23:11:28 [websocket-scheduler-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 5 - sessionId: fad9c22f-f768-0c46-05a4-e9d1b4629d77
2025-06-04 23:11:28 [websocket-scheduler-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: fad9c22f-f768-0c46-05a4-e9d1b4629d77, 데이터 건수: 5
2025-06-04 23:11:31 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor()
2025-06-04 23:11:31 [http-nio-10273-exec-6] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getChartDataForSensor, 파라미터 = [javame.com, load1, server_data, 5]
2025-06-04 23:11:31 [http-nio-10273-exec-6] DEBUG com.nhnacademy.environment.controller.TimeSeriesDataController - chart called: companyDomain=javame.com, origin=server_data, rangeMinutes=5
2025-06-04 23:11:31 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData()
2025-06-04 23:11:31 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData() => 95ms
2025-06-04 23:11:31 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor() => 95ms
2025-06-04 23:11:32 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData()
2025-06-04 23:11:32 [http-nio-10273-exec-7] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getPieChartData, 파라미터 = [javame.com, server_data]
2025-06-04 23:11:32 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.controller.TimeSeriesDataController - pie called: companyDomain=javame, origin=server_data
2025-06-04 23:11:32 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData()
2025-06-04 23:11:32 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData() => 35ms
2025-06-04 23:11:32 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData() => 35ms
2025-06-04 23:11:36 [http-nio-10273-exec-8] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - StandardWebSocketSession[id=fad9c22f-f768-0c46-05a4-e9d1b4629d77, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA] closed with CloseStatus[code=1002, reason=null]
2025-06-04 23:11:36 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed()
2025-06-04 23:11:36 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 종료 - sessionId: fad9c22f-f768-0c46-05a4-e9d1b4629d77, companyDomain: javame, status: CloseStatus[code=1002, reason=null]
2025-06-04 23:11:36 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession()
2025-06-04 23:11:36 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 제거 완료 - sessionId: fad9c22f-f768-0c46-05a4-e9d1b4629d77, companyDomain: javame, 총 세션 수: 0
2025-06-04 23:11:36 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession() => 0ms
2025-06-04 23:11:36 [http-nio-10273-exec-8] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 기존 스케줄 취소 완료 - sessionId: fad9c22f-f768-0c46-05a4-e9d1b4629d77
2025-06-04 23:11:36 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:11:36 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 1ms
2025-06-04 23:11:36 [http-nio-10273-exec-8] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 0
2025-06-04 23:11:36 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed() => 1ms
2025-06-04 23:11:36 [http-nio-10273-exec-9] DEBUG org.springframework.web.socket.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@68c7162b
2025-06-04 23:11:36 [http-nio-10273-exec-9] DEBUG org.springframework.web.socket.server.support.WebSocketHttpRequestHandler - GET /ws/environment
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake()
2025-06-04 23:11:36 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 시작 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:11:36 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Query parameter에서 토큰 추출 성공
2025-06-04 23:11:36 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT 토큰 검증 성공
2025-06-04 23:11:36 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT Claims 파싱 성공 - sub: test@javame.com, role: ROLE_OWNER
2025-06-04 23:11:36 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 시작 - userEmail: test@javame.com, role: ROLE_OWNER, uri: /members/me
2025-06-04 23:11:36 [http-nio-10273-exec-9] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 실패, fallback 사용. userEmail: test@javame.com, role: ROLE_OWNER
java.lang.NullPointerException: fallbackValue must not be null
	at java.base/java.util.Objects.requireNonNull(Objects.java:259) ~[?:?]
	at reactor.core.publisher.Mono.onErrorReturn(Mono.java:3953) ~[reactor-core-3.7.4.jar:3.7.4]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.getCompanyDomainFromMemberApi(AuthHandshakeInterceptor.java:230) ~[classes/:?]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake(AuthHandshakeInterceptor.java:88) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.config.TraceAspect.logMethodCall(TraceAspect.java:28) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor$$SpringCGLIB$$0.beforeHandshake(<generated>) ~[classes/:?]
	at org.springframework.web.socket.server.support.HandshakeInterceptorChain.applyBeforeHandshake(HandshakeInterceptorChain.java:60) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.socket.server.support.WebSocketHttpRequestHandler.handleRequest(WebSocketHttpRequestHandler.java:174) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-04 23:11:36 [http-nio-10273-exec-9] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 실패 - companyDomain을 조회할 수 없습니다. userEmail: test@javame.com
2025-06-04 23:11:36 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - 이메일에서 companyDomain 추출: test@javame.com -> javame
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 성공 - userEmail: test@javame.com, role: ROLE_OWNER, companyDomain: javame
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake() => 2ms
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake()
2025-06-04 23:11:36 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 완료 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake() => 0ms
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages()
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages() => 0ms
2025-06-04 23:11:36 [http-nio-10273-exec-9] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - New StandardWebSocketSession[id=2e3d9e76-cef7-5e41-d034-80b0b4b49fb6, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA]
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished()
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession()
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 추가 완료 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6, companyDomain: javame, userEmail: test@javame.com, 총 세션 수: 1
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession() => 0ms
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 성공 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6, companyDomain: javame, userEmail: test@javame.com
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 0ms
2025-06-04 23:11:36 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 1
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished() => 0ms
2025-06-04 23:11:36 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 메시지 수신 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6, message: {"action":"subscribe","companyDomain":"","rangeMinutes":1,"building":"gyeongnam_campus","origin":"server_data","location":"server_resource_data","deviceId":"192.168.71.74","place":"server_room","gatewayId":"cpu","measurement":"usage_iowait","_measurement":"usage_iowait","_measurementLabel":"I/O 대기시간(%)"}
2025-06-04 23:11:36 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:11:36 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_iowait, gatewayId: cpu, rangeMinutes: 1
2025-06-04 23:11:36 [websocket-scheduler-1] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -1m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_iowait") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket subscribe: measurement=usage_iowait, gatewayId=cpu, rangeMinutes=1
2025-06-04 23:11:36 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 구독 설정 완료 (직접 전송 방식) - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6
2025-06-04 23:11:36 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 6건
2025-06-04 23:11:36 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_iowait, gatewayId=cpu, rangeMinutes=1
2025-06-04 23:11:36 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 31ms
2025-06-04 23:11:36 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:10:38.250Z, location=server_resource_data, value=0.042297605954567497, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:48.254Z, location=server_resource_data, value=0.033806626099368124, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:58.254Z, location=server_resource_data, value=0.033855268724754466, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:08.250Z, location=server_resource_data, value=0.033855268727361484, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.254Z, location=server_resource_data, value=0.033829499322013186, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.258Z, location=server_resource_data, value=0.03382377811735053, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:11:36 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 6 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6
2025-06-04 23:11:36 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6, 데이터 건수: 6
2025-06-04 23:11:38 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor()
2025-06-04 23:11:38 [http-nio-10273-exec-10] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getChartDataForSensor, 파라미터 = [javame.com, usage_iowait, server_data, 5]
2025-06-04 23:11:38 [http-nio-10273-exec-10] DEBUG com.nhnacademy.environment.controller.TimeSeriesDataController - chart called: companyDomain=javame.com, origin=server_data, rangeMinutes=5
2025-06-04 23:11:38 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData()
2025-06-04 23:11:38 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData() => 241ms
2025-06-04 23:11:38 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor() => 241ms
2025-06-04 23:11:39 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData()
2025-06-04 23:11:39 [http-nio-10273-exec-1] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getPieChartData, 파라미터 = [javame.com, server_data]
2025-06-04 23:11:39 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.controller.TimeSeriesDataController - pie called: companyDomain=javame, origin=server_data
2025-06-04 23:11:39 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData()
2025-06-04 23:11:39 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData() => 110ms
2025-06-04 23:11:39 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData() => 110ms
2025-06-04 23:11:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:11:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_iowait, gatewayId: cpu, rangeMinutes: 1
2025-06-04 23:11:46 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -1m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_iowait") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:11:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 6건
2025-06-04 23:11:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_iowait, gatewayId=cpu, rangeMinutes=1
2025-06-04 23:11:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 405ms
2025-06-04 23:11:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:10:48.254Z, location=server_resource_data, value=0.033806626099368124, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:58.254Z, location=server_resource_data, value=0.033855268724754466, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:08.250Z, location=server_resource_data, value=0.033855268727361484, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.254Z, location=server_resource_data, value=0.033829499322013186, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.258Z, location=server_resource_data, value=0.03382377811735053, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.255Z, location=server_resource_data, value=0.03386100059099797, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:11:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 6 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6
2025-06-04 23:11:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6, 데이터 건수: 6
2025-06-04 23:11:56 [AsyncResolver-bootstrap-executor-%d] INFO  com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-06-04 23:11:56 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:11:56 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_iowait, gatewayId: cpu, rangeMinutes: 1
2025-06-04 23:11:56 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -1m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_iowait") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:11:56 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 6건
2025-06-04 23:11:56 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_iowait, gatewayId=cpu, rangeMinutes=1
2025-06-04 23:11:56 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 431ms
2025-06-04 23:11:56 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:10:58.254Z, location=server_resource_data, value=0.033855268724754466, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:08.250Z, location=server_resource_data, value=0.033855268727361484, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.254Z, location=server_resource_data, value=0.033829499322013186, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.258Z, location=server_resource_data, value=0.03382377811735053, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.255Z, location=server_resource_data, value=0.03386100059099797, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=0.025382858110889254, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:11:56 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 6 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6
2025-06-04 23:11:56 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6, 데이터 건수: 6
2025-06-04 23:12:06 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:12:06 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_iowait, gatewayId: cpu, rangeMinutes: 1
2025-06-04 23:12:06 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -1m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_iowait") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:12:06 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 6건
2025-06-04 23:12:06 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_iowait, gatewayId=cpu, rangeMinutes=1
2025-06-04 23:12:06 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 102ms
2025-06-04 23:12:06 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:11:08.250Z, location=server_resource_data, value=0.033855268727361484, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.254Z, location=server_resource_data, value=0.033829499322013186, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.258Z, location=server_resource_data, value=0.03382377811735053, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.255Z, location=server_resource_data, value=0.03386100059099797, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=0.025382858110889254, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=0.03381234150363669, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:12:06 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 6 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6
2025-06-04 23:12:06 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6, 데이터 건수: 6
2025-06-04 23:12:16 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:12:16 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_iowait, gatewayId: cpu, rangeMinutes: 1
2025-06-04 23:12:16 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -1m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_iowait") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:12:16 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 6건
2025-06-04 23:12:16 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_iowait, gatewayId=cpu, rangeMinutes=1
2025-06-04 23:12:16 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 150ms
2025-06-04 23:12:16 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:11:18.254Z, location=server_resource_data, value=0.033829499322013186, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.258Z, location=server_resource_data, value=0.03382377811735053, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.255Z, location=server_resource_data, value=0.03386100059099797, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=0.025382858110889254, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=0.03381234150363669, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.257Z, location=server_resource_data, value=0.03384094754748329, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:12:16 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 6 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6
2025-06-04 23:12:16 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6, 데이터 건수: 6
2025-06-04 23:12:26 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:12:26 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_iowait, gatewayId: cpu, rangeMinutes: 1
2025-06-04 23:12:26 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -1m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_iowait") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:12:26 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 6건
2025-06-04 23:12:26 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_iowait, gatewayId=cpu, rangeMinutes=1
2025-06-04 23:12:26 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 182ms
2025-06-04 23:12:26 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:11:28.258Z, location=server_resource_data, value=0.03382377811735053, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.255Z, location=server_resource_data, value=0.03386100059099797, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=0.025382858110889254, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=0.03381234150363669, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.257Z, location=server_resource_data, value=0.03384094754748329, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.259Z, location=server_resource_data, value=0.0338094835586578, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:12:26 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 6 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6
2025-06-04 23:12:26 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6, 데이터 건수: 6
2025-06-04 23:12:36 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:12:36 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_iowait, gatewayId: cpu, rangeMinutes: 1
2025-06-04 23:12:36 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -1m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_iowait") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:12:36 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 6건
2025-06-04 23:12:36 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_iowait, gatewayId=cpu, rangeMinutes=1
2025-06-04 23:12:36 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 39ms
2025-06-04 23:12:36 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:11:38.255Z, location=server_resource_data, value=0.03386100059099797, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=0.025382858110889254, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=0.03381234150363669, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.257Z, location=server_resource_data, value=0.03384094754748329, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.259Z, location=server_resource_data, value=0.0338094835586578, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.258Z, location=server_resource_data, value=0.0338151999333633, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:12:36 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 6 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6
2025-06-04 23:12:36 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6, 데이터 건수: 6
2025-06-04 23:12:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:12:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_iowait, gatewayId: cpu, rangeMinutes: 1
2025-06-04 23:12:46 [websocket-scheduler-9] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -1m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_iowait") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:12:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 6건
2025-06-04 23:12:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_iowait, gatewayId=cpu, rangeMinutes=1
2025-06-04 23:12:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 268ms
2025-06-04 23:12:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=0.025382858110889254, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=0.03381234150363669, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.257Z, location=server_resource_data, value=0.03384094754748329, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.259Z, location=server_resource_data, value=0.0338094835586578, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.258Z, location=server_resource_data, value=0.0338151999333633, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.255Z, location=server_resource_data, value=0.04230834320477111, measurement=usage_iowait, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:12:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 6 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6
2025-06-04 23:12:46 [websocket-scheduler-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6, 데이터 건수: 6
2025-06-04 23:12:54 [http-nio-10273-exec-2] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - StandardWebSocketSession[id=2e3d9e76-cef7-5e41-d034-80b0b4b49fb6, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA] closed with CloseStatus[code=1001, reason=null]
2025-06-04 23:12:54 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed()
2025-06-04 23:12:54 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 종료 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6, companyDomain: javame, status: CloseStatus[code=1001, reason=null]
2025-06-04 23:12:54 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession()
2025-06-04 23:12:54 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 제거 완료 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6, companyDomain: javame, 총 세션 수: 0
2025-06-04 23:12:54 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession() => 0ms
2025-06-04 23:12:54 [http-nio-10273-exec-2] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 기존 스케줄 취소 완료 - sessionId: 2e3d9e76-cef7-5e41-d034-80b0b4b49fb6
2025-06-04 23:12:54 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:12:54 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 0ms
2025-06-04 23:12:54 [http-nio-10273-exec-2] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 0
2025-06-04 23:12:54 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed() => 0ms
2025-06-04 23:12:56 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.BuildTreeController.getTree()
2025-06-04 23:12:56 [http-nio-10273-exec-4] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.BuildTreeController, 메서드 = getTree, 파라미터 = [javame.com]
2025-06-04 23:12:56 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.tree.service.BuildTreeService.buildTree()
2025-06-04 23:12:56 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:12:56 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 95ms
2025-06-04 23:12:56 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:12:56 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 403ms
2025-06-04 23:12:56 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:12:57 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 999ms
2025-06-04 23:12:57 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:12:57 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 40ms
2025-06-04 23:12:57 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:12:57 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 32ms
2025-06-04 23:12:57 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:12:57 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 42ms
2025-06-04 23:12:57 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:12:58 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 51ms
2025-06-04 23:12:58 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:12:58 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 392ms
2025-06-04 23:12:58 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:12:58 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 560ms
2025-06-04 23:12:58 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:12:59 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 413ms
2025-06-04 23:12:59 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:12:59 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 173ms
2025-06-04 23:12:59 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:00 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 461ms
2025-06-04 23:13:00 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:00 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 27ms
2025-06-04 23:13:00 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:00 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 227ms
2025-06-04 23:13:00 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:00 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 46ms
2025-06-04 23:13:00 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:00 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 242ms
2025-06-04 23:13:00 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:00 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 80ms
2025-06-04 23:13:00 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:00 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 208ms
2025-06-04 23:13:00 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:01 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 576ms
2025-06-04 23:13:01 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:02 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 949ms
2025-06-04 23:13:02 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:02 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 587ms
2025-06-04 23:13:02 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:03 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 809ms
2025-06-04 23:13:03 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:04 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 663ms
2025-06-04 23:13:04 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:04 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 247ms
2025-06-04 23:13:04 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:05 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 713ms
2025-06-04 23:13:05 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:05 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 98ms
2025-06-04 23:13:05 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:05 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 193ms
2025-06-04 23:13:05 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:05 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 65ms
2025-06-04 23:13:05 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:05 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 38ms
2025-06-04 23:13:05 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:13:05 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 40ms
2025-06-04 23:13:05 [http-nio-10273-exec-4] DEBUG com.nhnacademy.environment.tree.service.BuildTreeService - 최종 트리: TreeNode(label=루트, tag=root, value=root, children=[TreeNode(label=경남 캠퍼스, tag=building, value=gyeongnam_campus, children=[TreeNode(label=서버 데이터, tag=origin, value=server_data, children=[TreeNode(label=전력 계측기, tag=location, value=power_meter, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=modbus, tag=gatewayId, value=modbus, children=[TreeNode(label=전류(A), tag=measurement, value=current_amps, children=[]), TreeNode(label=역률(%), tag=measurement, value=power_factor_avg_percent, children=[]), TreeNode(label=전력 사용량(W), tag=measurement, value=power_watts, children=[]), TreeNode(label=온도(℃), tag=measurement, value=temperature_celsius, children=[])])])])]), TreeNode(label=서버 리소스, tag=location, value=server_resource_data, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=CPU, tag=gatewayId, value=cpu, children=[TreeNode(label=CPU 가용률(%), tag=measurement, value=usage_idle, children=[]), TreeNode(label=I/O 대기시간(%), tag=measurement, value=usage_iowait, children=[]), TreeNode(label=시스템 사용률(%), tag=measurement, value=usage_system, children=[]), TreeNode(label=사용자 사용률(%), tag=measurement, value=usage_user, children=[])]), TreeNode(label=디스크, tag=gatewayId, value=disk, children=[TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=디스크 I/O, tag=gatewayId, value=diskio, children=[TreeNode(label=I/O 작업 시간(ms), tag=measurement, value=io_time, children=[]), TreeNode(label=읽기량(Byte), tag=measurement, value=read_bytes, children=[]), TreeNode(label=쓰기량(Byte), tag=measurement, value=write_bytes, children=[])]), TreeNode(label=메모리, tag=gatewayId, value=mem, children=[TreeNode(label=메모리 가용률(%), tag=measurement, value=available_percent, children=[]), TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=네트워크, tag=gatewayId, value=net, children=[TreeNode(label=수신량(Byte), tag=measurement, value=bytes_recv, children=[]), TreeNode(label=전송량(Byte), tag=measurement, value=bytes_sent, children=[])]), TreeNode(label=센서, tag=gatewayId, value=sensors, children=[TreeNode(label=센서 온도(℃), tag=measurement, value=temp_input, children=[])]), TreeNode(label=스왑, tag=gatewayId, value=swap, children=[TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=시스템, tag=gatewayId, value=system, children=[TreeNode(label=1분 평균 부하, tag=measurement, value=load1, children=[])])])])]), TreeNode(label=서비스 리소스, tag=location, value=service_resource_data, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=인증 서비스, tag=gatewayId, value=javame-auth, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=환경 API, tag=gatewayId, value=javame-environment-api, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=프론트엔드, tag=gatewayId, value=javame-frontend, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=디스크 읽기량(Byte), tag=measurement, value=disk_io_bytes_direction_read, children=[]), TreeNode(label=디스크 쓰기량(Byte), tag=measurement, value=disk_io_bytes_direction_write, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=게이트웨이, tag=gatewayId, value=javame-gateway, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=회원 서비스, tag=gatewayId, value=javame-member, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])])])])]), TreeNode(label=출입구, tag=location, value=입구, children=[TreeNode(label=24e124743d011875, tag=deviceId, value=24e124743d011875, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=Leq, tag=measurement, value=Leq, children=[]), TreeNode(label=Lmax, tag=measurement, value=Lmax, children=[]), TreeNode(label=SPL, tag=measurement, value=SPL, children=[]), TreeNode(label=battery, tag=measurement, value=battery, children=[])])])])])])])
2025-06-04 23:13:05 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.tree.service.BuildTreeService.buildTree() => 9478ms
2025-06-04 23:13:05 [http-nio-10273-exec-4] DEBUG com.nhnacademy.environment.controller.BuildTreeController - 반환되는 트리구조: TreeNode(label=루트, tag=root, value=root, children=[TreeNode(label=경남 캠퍼스, tag=building, value=gyeongnam_campus, children=[TreeNode(label=서버 데이터, tag=origin, value=server_data, children=[TreeNode(label=전력 계측기, tag=location, value=power_meter, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=modbus, tag=gatewayId, value=modbus, children=[TreeNode(label=전류(A), tag=measurement, value=current_amps, children=[]), TreeNode(label=역률(%), tag=measurement, value=power_factor_avg_percent, children=[]), TreeNode(label=전력 사용량(W), tag=measurement, value=power_watts, children=[]), TreeNode(label=온도(℃), tag=measurement, value=temperature_celsius, children=[])])])])]), TreeNode(label=서버 리소스, tag=location, value=server_resource_data, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=CPU, tag=gatewayId, value=cpu, children=[TreeNode(label=CPU 가용률(%), tag=measurement, value=usage_idle, children=[]), TreeNode(label=I/O 대기시간(%), tag=measurement, value=usage_iowait, children=[]), TreeNode(label=시스템 사용률(%), tag=measurement, value=usage_system, children=[]), TreeNode(label=사용자 사용률(%), tag=measurement, value=usage_user, children=[])]), TreeNode(label=디스크, tag=gatewayId, value=disk, children=[TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=디스크 I/O, tag=gatewayId, value=diskio, children=[TreeNode(label=I/O 작업 시간(ms), tag=measurement, value=io_time, children=[]), TreeNode(label=읽기량(Byte), tag=measurement, value=read_bytes, children=[]), TreeNode(label=쓰기량(Byte), tag=measurement, value=write_bytes, children=[])]), TreeNode(label=메모리, tag=gatewayId, value=mem, children=[TreeNode(label=메모리 가용률(%), tag=measurement, value=available_percent, children=[]), TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=네트워크, tag=gatewayId, value=net, children=[TreeNode(label=수신량(Byte), tag=measurement, value=bytes_recv, children=[]), TreeNode(label=전송량(Byte), tag=measurement, value=bytes_sent, children=[])]), TreeNode(label=센서, tag=gatewayId, value=sensors, children=[TreeNode(label=센서 온도(℃), tag=measurement, value=temp_input, children=[])]), TreeNode(label=스왑, tag=gatewayId, value=swap, children=[TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=시스템, tag=gatewayId, value=system, children=[TreeNode(label=1분 평균 부하, tag=measurement, value=load1, children=[])])])])]), TreeNode(label=서비스 리소스, tag=location, value=service_resource_data, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=인증 서비스, tag=gatewayId, value=javame-auth, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=환경 API, tag=gatewayId, value=javame-environment-api, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=프론트엔드, tag=gatewayId, value=javame-frontend, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=디스크 읽기량(Byte), tag=measurement, value=disk_io_bytes_direction_read, children=[]), TreeNode(label=디스크 쓰기량(Byte), tag=measurement, value=disk_io_bytes_direction_write, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=게이트웨이, tag=gatewayId, value=javame-gateway, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=회원 서비스, tag=gatewayId, value=javame-member, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])])])])]), TreeNode(label=출입구, tag=location, value=입구, children=[TreeNode(label=24e124743d011875, tag=deviceId, value=24e124743d011875, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=Leq, tag=measurement, value=Leq, children=[]), TreeNode(label=Lmax, tag=measurement, value=Lmax, children=[]), TreeNode(label=SPL, tag=measurement, value=SPL, children=[]), TreeNode(label=battery, tag=measurement, value=battery, children=[])])])])])])])
2025-06-04 23:13:05 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.tree.service.BuildTreeService.convertToDto()
2025-06-04 23:13:05 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.tree.service.BuildTreeService.convertToDto() => 0ms
2025-06-04 23:13:05 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.BuildTreeController.getTree() => 9480ms
2025-06-04 23:13:10 [http-nio-10273-exec-5] DEBUG org.springframework.web.socket.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@68c7162b
2025-06-04 23:13:10 [http-nio-10273-exec-5] DEBUG org.springframework.web.socket.server.support.WebSocketHttpRequestHandler - GET /ws/environment
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake()
2025-06-04 23:13:10 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 시작 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:13:10 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Query parameter에서 토큰 추출 성공
2025-06-04 23:13:10 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT 토큰 검증 성공
2025-06-04 23:13:10 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT Claims 파싱 성공 - sub: test@javame.com, role: ROLE_OWNER
2025-06-04 23:13:10 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 시작 - userEmail: test@javame.com, role: ROLE_OWNER, uri: /members/me
2025-06-04 23:13:10 [http-nio-10273-exec-5] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 실패, fallback 사용. userEmail: test@javame.com, role: ROLE_OWNER
java.lang.NullPointerException: fallbackValue must not be null
	at java.base/java.util.Objects.requireNonNull(Objects.java:259) ~[?:?]
	at reactor.core.publisher.Mono.onErrorReturn(Mono.java:3953) ~[reactor-core-3.7.4.jar:3.7.4]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.getCompanyDomainFromMemberApi(AuthHandshakeInterceptor.java:230) ~[classes/:?]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake(AuthHandshakeInterceptor.java:88) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.config.TraceAspect.logMethodCall(TraceAspect.java:28) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor$$SpringCGLIB$$0.beforeHandshake(<generated>) ~[classes/:?]
	at org.springframework.web.socket.server.support.HandshakeInterceptorChain.applyBeforeHandshake(HandshakeInterceptorChain.java:60) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.socket.server.support.WebSocketHttpRequestHandler.handleRequest(WebSocketHttpRequestHandler.java:174) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-04 23:13:10 [http-nio-10273-exec-5] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 실패 - companyDomain을 조회할 수 없습니다. userEmail: test@javame.com
2025-06-04 23:13:10 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - 이메일에서 companyDomain 추출: test@javame.com -> javame
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 성공 - userEmail: test@javame.com, role: ROLE_OWNER, companyDomain: javame
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake() => 2ms
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake()
2025-06-04 23:13:10 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 완료 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake() => 0ms
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages()
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages() => 0ms
2025-06-04 23:13:10 [http-nio-10273-exec-5] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - New StandardWebSocketSession[id=d36353e9-3435-3b59-63b7-eac2b2a1812a, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA]
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished()
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession()
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 추가 완료 - sessionId: d36353e9-3435-3b59-63b7-eac2b2a1812a, companyDomain: javame, userEmail: test@javame.com, 총 세션 수: 1
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession() => 0ms
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 성공 - sessionId: d36353e9-3435-3b59-63b7-eac2b2a1812a, companyDomain: javame, userEmail: test@javame.com
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 0ms
2025-06-04 23:13:10 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 1
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished() => 1ms
2025-06-04 23:13:10 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 메시지 수신 - sessionId: d36353e9-3435-3b59-63b7-eac2b2a1812a, message: {"action":"subscribe","companyDomain":"","rangeMinutes":5,"building":"gyeongnam_campus","origin":"server_data","location":"server_resource_data","deviceId":"192.168.71.74","place":"server_room","gatewayId":"cpu","measurement":"usage_idle","_measurement":"usage_idle","_measurementLabel":"CPU 가용률(%)"}
2025-06-04 23:13:10 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:13:10 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:13:10 [websocket-scheduler-1] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:13:10 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 구독 설정 완료 (직접 전송 방식) - sessionId: d36353e9-3435-3b59-63b7-eac2b2a1812a
2025-06-04 23:13:10 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:13:10 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:13:10 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 196ms
2025-06-04 23:13:10 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:08:18.244Z, location=server_resource_data, value=95.56100448125488, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:08:28.242Z, location=server_resource_data, value=94.93702983520797, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:08:38.243Z, location=server_resource_data, value=94.7795921836134, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:08:48.246Z, location=server_resource_data, value=95.07530885064081, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:08:58.247Z, location=server_resource_data, value=94.32462149973044, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:08.246Z, location=server_resource_data, value=92.75619869803727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:18.249Z, location=server_resource_data, value=95.43263131298349, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:28.248Z, location=server_resource_data, value=94.95812536938584, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:38.250Z, location=server_resource_data, value=94.50270635986966, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:48.251Z, location=server_resource_data, value=95.44378698177337, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:58.251Z, location=server_resource_data, value=94.57423395961007, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:08.246Z, location=server_resource_data, value=94.0992211321145, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:18.252Z, location=server_resource_data, value=95.46684709110431, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:28.249Z, location=server_resource_data, value=95.09015491340365, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:38.250Z, location=server_resource_data, value=94.65358260701275, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:48.254Z, location=server_resource_data, value=95.57978363722629, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:58.253Z, location=server_resource_data, value=94.63393990712565, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:08.254Z, location=server_resource_data, value=94.15150232734985, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=95.5006765898138, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.257Z, location=server_resource_data, value=94.96871300578395, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.254Z, location=server_resource_data, value=94.7346144058309, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:13:10 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: d36353e9-3435-3b59-63b7-eac2b2a1812a
2025-06-04 23:13:10 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: d36353e9-3435-3b59-63b7-eac2b2a1812a, 데이터 건수: 30
2025-06-04 23:13:13 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor()
2025-06-04 23:13:13 [http-nio-10273-exec-6] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getChartDataForSensor, 파라미터 = [javame.com, usage_idle, server_data, 5]
2025-06-04 23:13:13 [http-nio-10273-exec-6] DEBUG com.nhnacademy.environment.controller.TimeSeriesDataController - chart called: companyDomain=javame.com, origin=server_data, rangeMinutes=5
2025-06-04 23:13:13 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData()
2025-06-04 23:13:13 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData() => 264ms
2025-06-04 23:13:13 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor() => 264ms
2025-06-04 23:13:16 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData()
2025-06-04 23:13:16 [http-nio-10273-exec-7] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getPieChartData, 파라미터 = [javame.com, server_data]
2025-06-04 23:13:16 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.controller.TimeSeriesDataController - pie called: companyDomain=javame, origin=server_data
2025-06-04 23:13:16 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData()
2025-06-04 23:13:17 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData() => 387ms
2025-06-04 23:13:17 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData() => 387ms
2025-06-04 23:13:20 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:13:20 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:13:20 [websocket-scheduler-1] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:13:20 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:13:20 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:13:20 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 289ms
2025-06-04 23:13:20 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:08:28.242Z, location=server_resource_data, value=94.93702983520797, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:08:38.243Z, location=server_resource_data, value=94.7795921836134, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:08:48.246Z, location=server_resource_data, value=95.07530885064081, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:08:58.247Z, location=server_resource_data, value=94.32462149973044, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:08.246Z, location=server_resource_data, value=92.75619869803727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:18.249Z, location=server_resource_data, value=95.43263131298349, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:28.248Z, location=server_resource_data, value=94.95812536938584, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:38.250Z, location=server_resource_data, value=94.50270635986966, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:48.251Z, location=server_resource_data, value=95.44378698177337, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:58.251Z, location=server_resource_data, value=94.57423395961007, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:08.246Z, location=server_resource_data, value=94.0992211321145, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:18.252Z, location=server_resource_data, value=95.46684709110431, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:28.249Z, location=server_resource_data, value=95.09015491340365, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:38.250Z, location=server_resource_data, value=94.65358260701275, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:48.254Z, location=server_resource_data, value=95.57978363722629, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:58.253Z, location=server_resource_data, value=94.63393990712565, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:08.254Z, location=server_resource_data, value=94.15150232734985, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=95.5006765898138, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.257Z, location=server_resource_data, value=94.96871300578395, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.254Z, location=server_resource_data, value=94.7346144058309, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:13:20 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: d36353e9-3435-3b59-63b7-eac2b2a1812a
2025-06-04 23:13:20 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: d36353e9-3435-3b59-63b7-eac2b2a1812a, 데이터 건수: 30
2025-06-04 23:13:30 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:13:30 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:13:30 [websocket-scheduler-1] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:13:30 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:13:30 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:13:30 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 300ms
2025-06-04 23:13:30 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:08:38.243Z, location=server_resource_data, value=94.7795921836134, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:08:48.246Z, location=server_resource_data, value=95.07530885064081, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:08:58.247Z, location=server_resource_data, value=94.32462149973044, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:08.246Z, location=server_resource_data, value=92.75619869803727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:18.249Z, location=server_resource_data, value=95.43263131298349, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:28.248Z, location=server_resource_data, value=94.95812536938584, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:38.250Z, location=server_resource_data, value=94.50270635986966, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:48.251Z, location=server_resource_data, value=95.44378698177337, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:58.251Z, location=server_resource_data, value=94.57423395961007, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:08.246Z, location=server_resource_data, value=94.0992211321145, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:18.252Z, location=server_resource_data, value=95.46684709110431, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:28.249Z, location=server_resource_data, value=95.09015491340365, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:38.250Z, location=server_resource_data, value=94.65358260701275, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:48.254Z, location=server_resource_data, value=95.57978363722629, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:58.253Z, location=server_resource_data, value=94.63393990712565, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:08.254Z, location=server_resource_data, value=94.15150232734985, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=95.5006765898138, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.257Z, location=server_resource_data, value=94.96871300578395, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.254Z, location=server_resource_data, value=94.7346144058309, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:13:30 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: d36353e9-3435-3b59-63b7-eac2b2a1812a
2025-06-04 23:13:30 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: d36353e9-3435-3b59-63b7-eac2b2a1812a, 데이터 건수: 30
2025-06-04 23:13:30 [http-nio-10273-exec-8] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - StandardWebSocketSession[id=d36353e9-3435-3b59-63b7-eac2b2a1812a, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA] closed with CloseStatus[code=1002, reason=null]
2025-06-04 23:13:30 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed()
2025-06-04 23:13:30 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 종료 - sessionId: d36353e9-3435-3b59-63b7-eac2b2a1812a, companyDomain: javame, status: CloseStatus[code=1002, reason=null]
2025-06-04 23:13:30 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession()
2025-06-04 23:13:30 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 제거 완료 - sessionId: d36353e9-3435-3b59-63b7-eac2b2a1812a, companyDomain: javame, 총 세션 수: 0
2025-06-04 23:13:30 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession() => 0ms
2025-06-04 23:13:30 [http-nio-10273-exec-8] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 기존 스케줄 취소 완료 - sessionId: d36353e9-3435-3b59-63b7-eac2b2a1812a
2025-06-04 23:13:30 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:13:30 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 0ms
2025-06-04 23:13:30 [http-nio-10273-exec-8] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 0
2025-06-04 23:13:30 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed() => 0ms
2025-06-04 23:13:30 [http-nio-10273-exec-9] DEBUG org.springframework.web.socket.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@68c7162b
2025-06-04 23:13:30 [http-nio-10273-exec-9] DEBUG org.springframework.web.socket.server.support.WebSocketHttpRequestHandler - GET /ws/environment
2025-06-04 23:13:30 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake()
2025-06-04 23:13:30 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 시작 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:13:30 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Query parameter에서 토큰 추출 성공
2025-06-04 23:13:30 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT 토큰 검증 성공
2025-06-04 23:13:30 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT Claims 파싱 성공 - sub: test@javame.com, role: ROLE_OWNER
2025-06-04 23:13:30 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 시작 - userEmail: test@javame.com, role: ROLE_OWNER, uri: /members/me
2025-06-04 23:13:30 [http-nio-10273-exec-9] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 실패, fallback 사용. userEmail: test@javame.com, role: ROLE_OWNER
java.lang.NullPointerException: fallbackValue must not be null
	at java.base/java.util.Objects.requireNonNull(Objects.java:259) ~[?:?]
	at reactor.core.publisher.Mono.onErrorReturn(Mono.java:3953) ~[reactor-core-3.7.4.jar:3.7.4]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.getCompanyDomainFromMemberApi(AuthHandshakeInterceptor.java:230) ~[classes/:?]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake(AuthHandshakeInterceptor.java:88) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.config.TraceAspect.logMethodCall(TraceAspect.java:28) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor$$SpringCGLIB$$0.beforeHandshake(<generated>) ~[classes/:?]
	at org.springframework.web.socket.server.support.HandshakeInterceptorChain.applyBeforeHandshake(HandshakeInterceptorChain.java:60) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.socket.server.support.WebSocketHttpRequestHandler.handleRequest(WebSocketHttpRequestHandler.java:174) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-04 23:13:30 [http-nio-10273-exec-9] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 실패 - companyDomain을 조회할 수 없습니다. userEmail: test@javame.com
2025-06-04 23:13:30 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - 이메일에서 companyDomain 추출: test@javame.com -> javame
2025-06-04 23:13:30 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 성공 - userEmail: test@javame.com, role: ROLE_OWNER, companyDomain: javame
2025-06-04 23:13:30 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake() => 3ms
2025-06-04 23:13:30 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake()
2025-06-04 23:13:30 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 완료 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:13:30 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake() => 0ms
2025-06-04 23:13:30 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages()
2025-06-04 23:13:30 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages() => 1ms
2025-06-04 23:13:30 [http-nio-10273-exec-9] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - New StandardWebSocketSession[id=bda1dc41-9c27-daa7-f451-c9d6e1dfc6df, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA]
2025-06-04 23:13:30 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished()
2025-06-04 23:13:30 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession()
2025-06-04 23:13:30 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 추가 완료 - sessionId: bda1dc41-9c27-daa7-f451-c9d6e1dfc6df, companyDomain: javame, userEmail: test@javame.com, 총 세션 수: 1
2025-06-04 23:13:30 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession() => 0ms
2025-06-04 23:13:30 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 성공 - sessionId: bda1dc41-9c27-daa7-f451-c9d6e1dfc6df, companyDomain: javame, userEmail: test@javame.com
2025-06-04 23:13:30 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:13:30 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 0ms
2025-06-04 23:13:30 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 1
2025-06-04 23:13:30 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished() => 0ms
2025-06-04 23:13:30 [http-nio-10273-exec-10] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 메시지 수신 - sessionId: bda1dc41-9c27-daa7-f451-c9d6e1dfc6df, message: {"action":"subscribe","companyDomain":"","rangeMinutes":5,"building":"gyeongnam_campus","origin":"server_data","location":"server_resource_data","deviceId":"192.168.71.74","place":"server_room","gatewayId":"mem","measurement":"used_percent","_measurement":"used_percent","_measurementLabel":"메모리 사용률(%)"}
2025-06-04 23:13:30 [websocket-scheduler-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:13:30 [websocket-scheduler-10] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:13:30 [websocket-scheduler-10] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:13:30 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:13:30 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 구독 설정 완료 (직접 전송 방식) - sessionId: bda1dc41-9c27-daa7-f451-c9d6e1dfc6df
2025-06-04 23:13:30 [websocket-scheduler-10] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:13:30 [websocket-scheduler-10] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:13:30 [websocket-scheduler-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 34ms
2025-06-04 23:13:30 [websocket-scheduler-10] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:08:38.242Z, location=server_resource_data, value=59.35684550119747, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:48.247Z, location=server_resource_data, value=59.334097095080864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:58.249Z, location=server_resource_data, value=59.33088291721773, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:08.248Z, location=server_resource_data, value=59.33591597092589, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:18.246Z, location=server_resource_data, value=59.35856471261263, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:28.249Z, location=server_resource_data, value=59.31491169233192, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:38.249Z, location=server_resource_data, value=59.32271043396883, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:48.248Z, location=server_resource_data, value=59.31334197756155, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:58.249Z, location=server_resource_data, value=59.29791890704, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:08.251Z, location=server_resource_data, value=59.34834910855151, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:18.252Z, location=server_resource_data, value=59.3205178165118, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:28.251Z, location=server_resource_data, value=59.32781823599939, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:38.251Z, location=server_resource_data, value=59.33813350449038, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:48.251Z, location=server_resource_data, value=59.338432497779976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:58.252Z, location=server_resource_data, value=59.32101613866113, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:08.256Z, location=server_resource_data, value=59.27213073581252, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=59.294605064746996, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:28.255Z, location=server_resource_data, value=59.27245464520958, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:38.256Z, location=server_resource_data, value=59.26931521566884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:48.258Z, location=server_resource_data, value=59.2991647124133, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:58.254Z, location=server_resource_data, value=59.30140716208526, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:08.254Z, location=server_resource_data, value=59.27150783312587, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:18.260Z, location=server_resource_data, value=59.274298437162074, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:28.259Z, location=server_resource_data, value=59.29066831976734, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:38.259Z, location=server_resource_data, value=59.28102578617794, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=59.243551960548835, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:58.261Z, location=server_resource_data, value=59.277811608314806, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:13:08.259Z, location=server_resource_data, value=59.282919410345364, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:13:18.261Z, location=server_resource_data, value=59.29440573588727, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:13:28.261Z, location=server_resource_data, value=59.25414130622195, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:13:30 [websocket-scheduler-10] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: bda1dc41-9c27-daa7-f451-c9d6e1dfc6df
2025-06-04 23:13:30 [websocket-scheduler-10] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: bda1dc41-9c27-daa7-f451-c9d6e1dfc6df, 데이터 건수: 30
2025-06-04 23:13:35 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor()
2025-06-04 23:13:35 [http-nio-10273-exec-1] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getChartDataForSensor, 파라미터 = [javame.com, used_percent, server_data, 5]
2025-06-04 23:13:35 [http-nio-10273-exec-1] DEBUG com.nhnacademy.environment.controller.TimeSeriesDataController - chart called: companyDomain=javame.com, origin=server_data, rangeMinutes=5
2025-06-04 23:13:35 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData()
2025-06-04 23:13:35 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData() => 131ms
2025-06-04 23:13:35 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor() => 131ms
2025-06-04 23:13:39 [http-nio-10273-exec-3] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData()
2025-06-04 23:13:39 [http-nio-10273-exec-3] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getPieChartData, 파라미터 = [javame.com, server_data]
2025-06-04 23:13:39 [http-nio-10273-exec-3] INFO  com.nhnacademy.environment.controller.TimeSeriesDataController - pie called: companyDomain=javame, origin=server_data
2025-06-04 23:13:39 [http-nio-10273-exec-3] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData()
2025-06-04 23:13:39 [http-nio-10273-exec-3] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData() => 27ms
2025-06-04 23:13:39 [http-nio-10273-exec-3] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData() => 27ms
2025-06-04 23:13:40 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:13:40 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:13:40 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:13:41 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:13:41 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:13:41 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 443ms
2025-06-04 23:13:41 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:08:48.247Z, location=server_resource_data, value=59.334097095080864, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:08:58.249Z, location=server_resource_data, value=59.33088291721773, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:08.248Z, location=server_resource_data, value=59.33591597092589, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:18.246Z, location=server_resource_data, value=59.35856471261263, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:28.249Z, location=server_resource_data, value=59.31491169233192, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:38.249Z, location=server_resource_data, value=59.32271043396883, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:48.248Z, location=server_resource_data, value=59.31334197756155, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:58.249Z, location=server_resource_data, value=59.29791890704, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:08.251Z, location=server_resource_data, value=59.34834910855151, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:18.252Z, location=server_resource_data, value=59.3205178165118, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:28.251Z, location=server_resource_data, value=59.32781823599939, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:38.251Z, location=server_resource_data, value=59.33813350449038, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:48.251Z, location=server_resource_data, value=59.338432497779976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:58.252Z, location=server_resource_data, value=59.32101613866113, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:08.256Z, location=server_resource_data, value=59.27213073581252, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=59.294605064746996, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:28.255Z, location=server_resource_data, value=59.27245464520958, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:38.256Z, location=server_resource_data, value=59.26931521566884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:48.258Z, location=server_resource_data, value=59.2991647124133, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:58.254Z, location=server_resource_data, value=59.30140716208526, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:08.254Z, location=server_resource_data, value=59.27150783312587, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:18.260Z, location=server_resource_data, value=59.274298437162074, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:28.259Z, location=server_resource_data, value=59.29066831976734, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:38.259Z, location=server_resource_data, value=59.28102578617794, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=59.243551960548835, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:58.261Z, location=server_resource_data, value=59.277811608314806, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:13:08.259Z, location=server_resource_data, value=59.282919410345364, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:13:18.261Z, location=server_resource_data, value=59.29440573588727, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:13:28.261Z, location=server_resource_data, value=59.25414130622195, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:13:41 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: bda1dc41-9c27-daa7-f451-c9d6e1dfc6df
2025-06-04 23:13:41 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: bda1dc41-9c27-daa7-f451-c9d6e1dfc6df, 데이터 건수: 29
2025-06-04 23:13:50 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:13:50 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:13:50 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:13:50 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:13:50 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:13:50 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 190ms
2025-06-04 23:13:50 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:08:58.249Z, location=server_resource_data, value=59.33088291721773, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:08.248Z, location=server_resource_data, value=59.33591597092589, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:18.246Z, location=server_resource_data, value=59.35856471261263, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:28.249Z, location=server_resource_data, value=59.31491169233192, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:38.249Z, location=server_resource_data, value=59.32271043396883, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:48.248Z, location=server_resource_data, value=59.31334197756155, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:58.249Z, location=server_resource_data, value=59.29791890704, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:08.251Z, location=server_resource_data, value=59.34834910855151, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:18.252Z, location=server_resource_data, value=59.3205178165118, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:28.251Z, location=server_resource_data, value=59.32781823599939, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:38.251Z, location=server_resource_data, value=59.33813350449038, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:48.251Z, location=server_resource_data, value=59.338432497779976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:58.252Z, location=server_resource_data, value=59.32101613866113, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:08.256Z, location=server_resource_data, value=59.27213073581252, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=59.294605064746996, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:28.255Z, location=server_resource_data, value=59.27245464520958, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:38.256Z, location=server_resource_data, value=59.26931521566884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:48.258Z, location=server_resource_data, value=59.2991647124133, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:58.254Z, location=server_resource_data, value=59.30140716208526, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:08.254Z, location=server_resource_data, value=59.27150783312587, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:18.260Z, location=server_resource_data, value=59.274298437162074, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:28.259Z, location=server_resource_data, value=59.29066831976734, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:38.259Z, location=server_resource_data, value=59.28102578617794, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=59.243551960548835, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:58.261Z, location=server_resource_data, value=59.277811608314806, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:13:08.259Z, location=server_resource_data, value=59.282919410345364, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:13:18.261Z, location=server_resource_data, value=59.29440573588727, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:13:28.261Z, location=server_resource_data, value=59.25414130622195, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:13:48.393Z, location=server_resource_data, value=59.30138224597779, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:13:50 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: bda1dc41-9c27-daa7-f451-c9d6e1dfc6df
2025-06-04 23:13:50 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: bda1dc41-9c27-daa7-f451-c9d6e1dfc6df, 데이터 건수: 29
2025-06-04 23:14:00 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:14:00 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:14:00 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:14:00 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:14:00 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:14:00 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 56ms
2025-06-04 23:14:00 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:09:08.248Z, location=server_resource_data, value=59.33591597092589, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:18.246Z, location=server_resource_data, value=59.35856471261263, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:28.249Z, location=server_resource_data, value=59.31491169233192, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:38.249Z, location=server_resource_data, value=59.32271043396883, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:48.248Z, location=server_resource_data, value=59.31334197756155, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:09:58.249Z, location=server_resource_data, value=59.29791890704, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:08.251Z, location=server_resource_data, value=59.34834910855151, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:18.252Z, location=server_resource_data, value=59.3205178165118, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:28.251Z, location=server_resource_data, value=59.32781823599939, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:38.251Z, location=server_resource_data, value=59.33813350449038, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:48.251Z, location=server_resource_data, value=59.338432497779976, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:10:58.252Z, location=server_resource_data, value=59.32101613866113, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:08.256Z, location=server_resource_data, value=59.27213073581252, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=59.294605064746996, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:28.255Z, location=server_resource_data, value=59.27245464520958, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:38.256Z, location=server_resource_data, value=59.26931521566884, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:48.258Z, location=server_resource_data, value=59.2991647124133, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:11:58.254Z, location=server_resource_data, value=59.30140716208526, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:08.254Z, location=server_resource_data, value=59.27150783312587, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:18.260Z, location=server_resource_data, value=59.274298437162074, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:28.259Z, location=server_resource_data, value=59.29066831976734, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:38.259Z, location=server_resource_data, value=59.28102578617794, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=59.243551960548835, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:12:58.261Z, location=server_resource_data, value=59.277811608314806, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:13:08.259Z, location=server_resource_data, value=59.282919410345364, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:13:18.261Z, location=server_resource_data, value=59.29440573588727, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:13:28.261Z, location=server_resource_data, value=59.25414130622195, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:13:48.393Z, location=server_resource_data, value=59.30138224597779, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:13:58.265Z, location=server_resource_data, value=59.308383672175786, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:14:00 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: bda1dc41-9c27-daa7-f451-c9d6e1dfc6df
2025-06-04 23:14:00 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: bda1dc41-9c27-daa7-f451-c9d6e1dfc6df, 데이터 건수: 29
2025-06-04 23:14:10 [http-nio-10273-exec-2] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - StandardWebSocketSession[id=bda1dc41-9c27-daa7-f451-c9d6e1dfc6df, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA] closed with CloseStatus[code=1001, reason=null]
2025-06-04 23:14:10 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed()
2025-06-04 23:14:10 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 종료 - sessionId: bda1dc41-9c27-daa7-f451-c9d6e1dfc6df, companyDomain: javame, status: CloseStatus[code=1001, reason=null]
2025-06-04 23:14:10 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession()
2025-06-04 23:14:10 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 제거 완료 - sessionId: bda1dc41-9c27-daa7-f451-c9d6e1dfc6df, companyDomain: javame, 총 세션 수: 0
2025-06-04 23:14:10 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession() => 0ms
2025-06-04 23:14:10 [http-nio-10273-exec-2] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 기존 스케줄 취소 완료 - sessionId: bda1dc41-9c27-daa7-f451-c9d6e1dfc6df
2025-06-04 23:14:10 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:14:10 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 0ms
2025-06-04 23:14:10 [http-nio-10273-exec-2] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 0
2025-06-04 23:14:10 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed() => 0ms
2025-06-04 23:14:12 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.BuildTreeController.getTree()
2025-06-04 23:14:12 [http-nio-10273-exec-4] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.BuildTreeController, 메서드 = getTree, 파라미터 = [javame.com]
2025-06-04 23:14:12 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.tree.service.BuildTreeService.buildTree()
2025-06-04 23:14:12 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:12 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 53ms
2025-06-04 23:14:12 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:12 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 190ms
2025-06-04 23:14:12 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:12 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 256ms
2025-06-04 23:14:12 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:13 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 318ms
2025-06-04 23:14:13 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:13 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 120ms
2025-06-04 23:14:13 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:13 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 483ms
2025-06-04 23:14:13 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:14 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 907ms
2025-06-04 23:14:14 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:15 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 422ms
2025-06-04 23:14:15 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:15 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 636ms
2025-06-04 23:14:15 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:16 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 571ms
2025-06-04 23:14:16 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:16 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 712ms
2025-06-04 23:14:16 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:17 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 730ms
2025-06-04 23:14:17 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:18 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 736ms
2025-06-04 23:14:18 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:20 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 1839ms
2025-06-04 23:14:20 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:20 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 183ms
2025-06-04 23:14:20 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:20 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 78ms
2025-06-04 23:14:20 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:20 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 76ms
2025-06-04 23:14:20 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:20 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 102ms
2025-06-04 23:14:20 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:20 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 156ms
2025-06-04 23:14:20 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:21 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 228ms
2025-06-04 23:14:21 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:21 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 323ms
2025-06-04 23:14:21 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:21 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 438ms
2025-06-04 23:14:21 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:22 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 590ms
2025-06-04 23:14:22 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:23 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 779ms
2025-06-04 23:14:23 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:24 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 964ms
2025-06-04 23:14:24 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:24 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 271ms
2025-06-04 23:14:24 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:24 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 157ms
2025-06-04 23:14:24 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:24 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 56ms
2025-06-04 23:14:24 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:25 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 786ms
2025-06-04 23:14:25 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:14:25 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 27ms
2025-06-04 23:14:25 [http-nio-10273-exec-4] DEBUG com.nhnacademy.environment.tree.service.BuildTreeService - 최종 트리: TreeNode(label=루트, tag=root, value=root, children=[TreeNode(label=경남 캠퍼스, tag=building, value=gyeongnam_campus, children=[TreeNode(label=서버 데이터, tag=origin, value=server_data, children=[TreeNode(label=전력 계측기, tag=location, value=power_meter, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=modbus, tag=gatewayId, value=modbus, children=[TreeNode(label=전류(A), tag=measurement, value=current_amps, children=[]), TreeNode(label=역률(%), tag=measurement, value=power_factor_avg_percent, children=[]), TreeNode(label=전력 사용량(W), tag=measurement, value=power_watts, children=[]), TreeNode(label=온도(℃), tag=measurement, value=temperature_celsius, children=[])])])])]), TreeNode(label=서버 리소스, tag=location, value=server_resource_data, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=CPU, tag=gatewayId, value=cpu, children=[TreeNode(label=CPU 가용률(%), tag=measurement, value=usage_idle, children=[]), TreeNode(label=I/O 대기시간(%), tag=measurement, value=usage_iowait, children=[]), TreeNode(label=시스템 사용률(%), tag=measurement, value=usage_system, children=[]), TreeNode(label=사용자 사용률(%), tag=measurement, value=usage_user, children=[])]), TreeNode(label=디스크, tag=gatewayId, value=disk, children=[TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=디스크 I/O, tag=gatewayId, value=diskio, children=[TreeNode(label=I/O 작업 시간(ms), tag=measurement, value=io_time, children=[]), TreeNode(label=읽기량(Byte), tag=measurement, value=read_bytes, children=[]), TreeNode(label=쓰기량(Byte), tag=measurement, value=write_bytes, children=[])]), TreeNode(label=메모리, tag=gatewayId, value=mem, children=[TreeNode(label=메모리 가용률(%), tag=measurement, value=available_percent, children=[]), TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=네트워크, tag=gatewayId, value=net, children=[TreeNode(label=수신량(Byte), tag=measurement, value=bytes_recv, children=[]), TreeNode(label=전송량(Byte), tag=measurement, value=bytes_sent, children=[])]), TreeNode(label=센서, tag=gatewayId, value=sensors, children=[TreeNode(label=센서 온도(℃), tag=measurement, value=temp_input, children=[])]), TreeNode(label=스왑, tag=gatewayId, value=swap, children=[TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=시스템, tag=gatewayId, value=system, children=[TreeNode(label=1분 평균 부하, tag=measurement, value=load1, children=[])])])])]), TreeNode(label=서비스 리소스, tag=location, value=service_resource_data, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=인증 서비스, tag=gatewayId, value=javame-auth, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=환경 API, tag=gatewayId, value=javame-environment-api, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=프론트엔드, tag=gatewayId, value=javame-frontend, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=디스크 읽기량(Byte), tag=measurement, value=disk_io_bytes_direction_read, children=[]), TreeNode(label=디스크 쓰기량(Byte), tag=measurement, value=disk_io_bytes_direction_write, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=게이트웨이, tag=gatewayId, value=javame-gateway, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=회원 서비스, tag=gatewayId, value=javame-member, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])])])])]), TreeNode(label=출입구, tag=location, value=입구, children=[TreeNode(label=24e124743d011875, tag=deviceId, value=24e124743d011875, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=Leq, tag=measurement, value=Leq, children=[]), TreeNode(label=Lmax, tag=measurement, value=Lmax, children=[]), TreeNode(label=SPL, tag=measurement, value=SPL, children=[]), TreeNode(label=battery, tag=measurement, value=battery, children=[])])])])])])])
2025-06-04 23:14:25 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.tree.service.BuildTreeService.buildTree() => 13199ms
2025-06-04 23:14:25 [http-nio-10273-exec-4] DEBUG com.nhnacademy.environment.controller.BuildTreeController - 반환되는 트리구조: TreeNode(label=루트, tag=root, value=root, children=[TreeNode(label=경남 캠퍼스, tag=building, value=gyeongnam_campus, children=[TreeNode(label=서버 데이터, tag=origin, value=server_data, children=[TreeNode(label=전력 계측기, tag=location, value=power_meter, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=modbus, tag=gatewayId, value=modbus, children=[TreeNode(label=전류(A), tag=measurement, value=current_amps, children=[]), TreeNode(label=역률(%), tag=measurement, value=power_factor_avg_percent, children=[]), TreeNode(label=전력 사용량(W), tag=measurement, value=power_watts, children=[]), TreeNode(label=온도(℃), tag=measurement, value=temperature_celsius, children=[])])])])]), TreeNode(label=서버 리소스, tag=location, value=server_resource_data, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=CPU, tag=gatewayId, value=cpu, children=[TreeNode(label=CPU 가용률(%), tag=measurement, value=usage_idle, children=[]), TreeNode(label=I/O 대기시간(%), tag=measurement, value=usage_iowait, children=[]), TreeNode(label=시스템 사용률(%), tag=measurement, value=usage_system, children=[]), TreeNode(label=사용자 사용률(%), tag=measurement, value=usage_user, children=[])]), TreeNode(label=디스크, tag=gatewayId, value=disk, children=[TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=디스크 I/O, tag=gatewayId, value=diskio, children=[TreeNode(label=I/O 작업 시간(ms), tag=measurement, value=io_time, children=[]), TreeNode(label=읽기량(Byte), tag=measurement, value=read_bytes, children=[]), TreeNode(label=쓰기량(Byte), tag=measurement, value=write_bytes, children=[])]), TreeNode(label=메모리, tag=gatewayId, value=mem, children=[TreeNode(label=메모리 가용률(%), tag=measurement, value=available_percent, children=[]), TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=네트워크, tag=gatewayId, value=net, children=[TreeNode(label=수신량(Byte), tag=measurement, value=bytes_recv, children=[]), TreeNode(label=전송량(Byte), tag=measurement, value=bytes_sent, children=[])]), TreeNode(label=센서, tag=gatewayId, value=sensors, children=[TreeNode(label=센서 온도(℃), tag=measurement, value=temp_input, children=[])]), TreeNode(label=스왑, tag=gatewayId, value=swap, children=[TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=시스템, tag=gatewayId, value=system, children=[TreeNode(label=1분 평균 부하, tag=measurement, value=load1, children=[])])])])]), TreeNode(label=서비스 리소스, tag=location, value=service_resource_data, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=인증 서비스, tag=gatewayId, value=javame-auth, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=환경 API, tag=gatewayId, value=javame-environment-api, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=프론트엔드, tag=gatewayId, value=javame-frontend, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=디스크 읽기량(Byte), tag=measurement, value=disk_io_bytes_direction_read, children=[]), TreeNode(label=디스크 쓰기량(Byte), tag=measurement, value=disk_io_bytes_direction_write, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=게이트웨이, tag=gatewayId, value=javame-gateway, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=회원 서비스, tag=gatewayId, value=javame-member, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])])])])]), TreeNode(label=출입구, tag=location, value=입구, children=[TreeNode(label=24e124743d011875, tag=deviceId, value=24e124743d011875, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=Leq, tag=measurement, value=Leq, children=[]), TreeNode(label=Lmax, tag=measurement, value=Lmax, children=[]), TreeNode(label=SPL, tag=measurement, value=SPL, children=[]), TreeNode(label=battery, tag=measurement, value=battery, children=[])])])])])])])
2025-06-04 23:14:25 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.tree.service.BuildTreeService.convertToDto()
2025-06-04 23:14:25 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.tree.service.BuildTreeService.convertToDto() => 0ms
2025-06-04 23:14:25 [http-nio-10273-exec-4] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.BuildTreeController.getTree() => 13199ms
2025-06-04 23:14:29 [http-nio-10273-exec-5] DEBUG org.springframework.web.socket.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@68c7162b
2025-06-04 23:14:29 [http-nio-10273-exec-5] DEBUG org.springframework.web.socket.server.support.WebSocketHttpRequestHandler - GET /ws/environment
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake()
2025-06-04 23:14:29 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 시작 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:14:29 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Query parameter에서 토큰 추출 성공
2025-06-04 23:14:29 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT 토큰 검증 성공
2025-06-04 23:14:29 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT Claims 파싱 성공 - sub: test@javame.com, role: ROLE_OWNER
2025-06-04 23:14:29 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 시작 - userEmail: test@javame.com, role: ROLE_OWNER, uri: /members/me
2025-06-04 23:14:29 [http-nio-10273-exec-5] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 실패, fallback 사용. userEmail: test@javame.com, role: ROLE_OWNER
java.lang.NullPointerException: fallbackValue must not be null
	at java.base/java.util.Objects.requireNonNull(Objects.java:259) ~[?:?]
	at reactor.core.publisher.Mono.onErrorReturn(Mono.java:3953) ~[reactor-core-3.7.4.jar:3.7.4]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.getCompanyDomainFromMemberApi(AuthHandshakeInterceptor.java:230) ~[classes/:?]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake(AuthHandshakeInterceptor.java:88) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.config.TraceAspect.logMethodCall(TraceAspect.java:28) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor$$SpringCGLIB$$0.beforeHandshake(<generated>) ~[classes/:?]
	at org.springframework.web.socket.server.support.HandshakeInterceptorChain.applyBeforeHandshake(HandshakeInterceptorChain.java:60) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.socket.server.support.WebSocketHttpRequestHandler.handleRequest(WebSocketHttpRequestHandler.java:174) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-04 23:14:29 [http-nio-10273-exec-5] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 실패 - companyDomain을 조회할 수 없습니다. userEmail: test@javame.com
2025-06-04 23:14:29 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - 이메일에서 companyDomain 추출: test@javame.com -> javame
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 성공 - userEmail: test@javame.com, role: ROLE_OWNER, companyDomain: javame
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake() => 2ms
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake()
2025-06-04 23:14:29 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 완료 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake() => 0ms
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages()
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages() => 0ms
2025-06-04 23:14:29 [http-nio-10273-exec-5] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - New StandardWebSocketSession[id=d7419114-7507-0b1b-5b61-dc382f61f987, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA]
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished()
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession()
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 추가 완료 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987, companyDomain: javame, userEmail: test@javame.com, 총 세션 수: 1
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession() => 0ms
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 성공 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987, companyDomain: javame, userEmail: test@javame.com
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 0ms
2025-06-04 23:14:29 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 1
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished() => 0ms
2025-06-04 23:14:29 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 메시지 수신 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987, message: {"action":"subscribe","companyDomain":"","rangeMinutes":5,"building":"gyeongnam_campus","origin":"server_data","location":"server_resource_data","deviceId":"192.168.71.74","place":"server_room","gatewayId":"cpu","measurement":"usage_idle","_measurement":"usage_idle","_measurementLabel":"CPU 가용률(%)"}
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:14:29 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 구독 설정 완료 (직접 전송 방식) - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987
2025-06-04 23:14:29 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:14:29 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:14:29 [websocket-scheduler-7] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:14:30 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:14:30 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:14:30 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 645ms
2025-06-04 23:14:30 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:09:38.250Z, location=server_resource_data, value=94.50270635986966, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:48.251Z, location=server_resource_data, value=95.44378698177337, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:58.251Z, location=server_resource_data, value=94.57423395961007, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:08.246Z, location=server_resource_data, value=94.0992211321145, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:18.252Z, location=server_resource_data, value=95.46684709110431, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:28.249Z, location=server_resource_data, value=95.09015491340365, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:38.250Z, location=server_resource_data, value=94.65358260701275, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:48.254Z, location=server_resource_data, value=95.57978363722629, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:58.253Z, location=server_resource_data, value=94.63393990712565, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:08.254Z, location=server_resource_data, value=94.15150232734985, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=95.5006765898138, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.257Z, location=server_resource_data, value=94.96871300578395, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.254Z, location=server_resource_data, value=94.7346144058309, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:14:30 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987
2025-06-04 23:14:30 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987, 데이터 건수: 29
2025-06-04 23:14:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor()
2025-06-04 23:14:33 [http-nio-10273-exec-6] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getChartDataForSensor, 파라미터 = [javame.com, usage_idle, server_data, 5]
2025-06-04 23:14:33 [http-nio-10273-exec-6] DEBUG com.nhnacademy.environment.controller.TimeSeriesDataController - chart called: companyDomain=javame.com, origin=server_data, rangeMinutes=5
2025-06-04 23:14:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData()
2025-06-04 23:14:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData() => 68ms
2025-06-04 23:14:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor() => 68ms
2025-06-04 23:14:38 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData()
2025-06-04 23:14:38 [http-nio-10273-exec-7] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getPieChartData, 파라미터 = [javame.com, server_data]
2025-06-04 23:14:38 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.controller.TimeSeriesDataController - pie called: companyDomain=javame, origin=server_data
2025-06-04 23:14:38 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData()
2025-06-04 23:14:39 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData() => 678ms
2025-06-04 23:14:39 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData() => 678ms
2025-06-04 23:14:39 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:14:39 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:14:39 [websocket-scheduler-7] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:14:40 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:14:40 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:14:40 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 370ms
2025-06-04 23:14:40 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:09:48.251Z, location=server_resource_data, value=95.44378698177337, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:09:58.251Z, location=server_resource_data, value=94.57423395961007, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:08.246Z, location=server_resource_data, value=94.0992211321145, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:18.252Z, location=server_resource_data, value=95.46684709110431, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:28.249Z, location=server_resource_data, value=95.09015491340365, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:38.250Z, location=server_resource_data, value=94.65358260701275, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:48.254Z, location=server_resource_data, value=95.57978363722629, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:58.253Z, location=server_resource_data, value=94.63393990712565, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:08.254Z, location=server_resource_data, value=94.15150232734985, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=95.5006765898138, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.257Z, location=server_resource_data, value=94.96871300578395, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.254Z, location=server_resource_data, value=94.7346144058309, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:14:40 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987
2025-06-04 23:14:40 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987, 데이터 건수: 29
2025-06-04 23:14:49 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:14:49 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:14:49 [websocket-scheduler-7] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:14:50 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:14:50 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:14:50 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 107ms
2025-06-04 23:14:50 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:09:58.251Z, location=server_resource_data, value=94.57423395961007, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:08.246Z, location=server_resource_data, value=94.0992211321145, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:18.252Z, location=server_resource_data, value=95.46684709110431, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:28.249Z, location=server_resource_data, value=95.09015491340365, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:38.250Z, location=server_resource_data, value=94.65358260701275, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:48.254Z, location=server_resource_data, value=95.57978363722629, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:58.253Z, location=server_resource_data, value=94.63393990712565, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:08.254Z, location=server_resource_data, value=94.15150232734985, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=95.5006765898138, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.257Z, location=server_resource_data, value=94.96871300578395, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.254Z, location=server_resource_data, value=94.7346144058309, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:14:50 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987
2025-06-04 23:14:50 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987, 데이터 건수: 29
2025-06-04 23:14:59 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:14:59 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:14:59 [websocket-scheduler-7] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:15:00 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:15:00 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:15:00 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 220ms
2025-06-04 23:15:00 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:10:08.246Z, location=server_resource_data, value=94.0992211321145, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:18.252Z, location=server_resource_data, value=95.46684709110431, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:28.249Z, location=server_resource_data, value=95.09015491340365, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:38.250Z, location=server_resource_data, value=94.65358260701275, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:48.254Z, location=server_resource_data, value=95.57978363722629, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:58.253Z, location=server_resource_data, value=94.63393990712565, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:08.254Z, location=server_resource_data, value=94.15150232734985, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=95.5006765898138, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.257Z, location=server_resource_data, value=94.96871300578395, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.254Z, location=server_resource_data, value=94.7346144058309, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:15:00 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987
2025-06-04 23:15:00 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987, 데이터 건수: 29
2025-06-04 23:15:09 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:15:09 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:15:09 [websocket-scheduler-7] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:15:10 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:15:10 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:15:10 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 714ms
2025-06-04 23:15:10 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:10:18.252Z, location=server_resource_data, value=95.46684709110431, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:28.249Z, location=server_resource_data, value=95.09015491340365, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:38.250Z, location=server_resource_data, value=94.65358260701275, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:48.254Z, location=server_resource_data, value=95.57978363722629, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:58.253Z, location=server_resource_data, value=94.63393990712565, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:08.254Z, location=server_resource_data, value=94.15150232734985, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=95.5006765898138, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.257Z, location=server_resource_data, value=94.96871300578395, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.254Z, location=server_resource_data, value=94.7346144058309, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:15:10 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987
2025-06-04 23:15:10 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987, 데이터 건수: 29
2025-06-04 23:15:19 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:15:19 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:15:19 [websocket-scheduler-7] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:15:20 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:15:20 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:15:20 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 261ms
2025-06-04 23:15:20 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:10:28.249Z, location=server_resource_data, value=95.09015491340365, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:38.250Z, location=server_resource_data, value=94.65358260701275, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:48.254Z, location=server_resource_data, value=95.57978363722629, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:58.253Z, location=server_resource_data, value=94.63393990712565, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:08.254Z, location=server_resource_data, value=94.15150232734985, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=95.5006765898138, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.257Z, location=server_resource_data, value=94.96871300578395, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.254Z, location=server_resource_data, value=94.7346144058309, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:15:20 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987
2025-06-04 23:15:20 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987, 데이터 건수: 29
2025-06-04 23:15:29 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:15:29 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:15:29 [websocket-scheduler-7] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:15:30 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:15:30 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:15:30 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 253ms
2025-06-04 23:15:30 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:10:38.250Z, location=server_resource_data, value=94.65358260701275, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:48.254Z, location=server_resource_data, value=95.57978363722629, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:58.253Z, location=server_resource_data, value=94.63393990712565, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:08.254Z, location=server_resource_data, value=94.15150232734985, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=95.5006765898138, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.257Z, location=server_resource_data, value=94.96871300578395, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.254Z, location=server_resource_data, value=94.7346144058309, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:15:30 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987
2025-06-04 23:15:30 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987, 데이터 건수: 29
2025-06-04 23:15:39 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:15:39 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:15:39 [websocket-scheduler-7] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:15:40 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:15:40 [websocket-scheduler-7] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:15:40 [websocket-scheduler-7] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 1011ms
2025-06-04 23:15:40 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:10:48.254Z, location=server_resource_data, value=95.57978363722629, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:10:58.253Z, location=server_resource_data, value=94.63393990712565, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:08.254Z, location=server_resource_data, value=94.15150232734985, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=95.5006765898138, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.257Z, location=server_resource_data, value=94.96871300578395, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.254Z, location=server_resource_data, value=94.7346144058309, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:15:40 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987
2025-06-04 23:15:40 [websocket-scheduler-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987, 데이터 건수: 29
2025-06-04 23:15:42 [http-nio-10273-exec-9] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - StandardWebSocketSession[id=d7419114-7507-0b1b-5b61-dc382f61f987, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA] closed with CloseStatus[code=1001, reason=null]
2025-06-04 23:15:42 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed()
2025-06-04 23:15:42 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 종료 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987, companyDomain: javame, status: CloseStatus[code=1001, reason=null]
2025-06-04 23:15:42 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession()
2025-06-04 23:15:42 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 제거 완료 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987, companyDomain: javame, 총 세션 수: 0
2025-06-04 23:15:42 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession() => 0ms
2025-06-04 23:15:42 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 기존 스케줄 취소 완료 - sessionId: d7419114-7507-0b1b-5b61-dc382f61f987
2025-06-04 23:15:42 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:15:42 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 0ms
2025-06-04 23:15:42 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 0
2025-06-04 23:15:42 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed() => 1ms
2025-06-04 23:15:43 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.BuildTreeController.getTree()
2025-06-04 23:15:43 [http-nio-10273-exec-10] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.BuildTreeController, 메서드 = getTree, 파라미터 = [javame.com]
2025-06-04 23:15:43 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.tree.service.BuildTreeService.buildTree()
2025-06-04 23:15:43 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:43 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 51ms
2025-06-04 23:15:43 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:43 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 46ms
2025-06-04 23:15:43 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:43 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 63ms
2025-06-04 23:15:43 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:43 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 29ms
2025-06-04 23:15:43 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:43 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 229ms
2025-06-04 23:15:43 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:43 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 81ms
2025-06-04 23:15:43 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:44 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 440ms
2025-06-04 23:15:44 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:44 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 280ms
2025-06-04 23:15:44 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:44 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 339ms
2025-06-04 23:15:44 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:45 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 579ms
2025-06-04 23:15:45 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:47 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 1811ms
2025-06-04 23:15:47 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:47 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 81ms
2025-06-04 23:15:47 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:47 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 604ms
2025-06-04 23:15:47 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:50 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 2738ms
2025-06-04 23:15:50 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:50 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 162ms
2025-06-04 23:15:50 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:51 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 619ms
2025-06-04 23:15:51 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:52 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 1470ms
2025-06-04 23:15:52 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:53 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 462ms
2025-06-04 23:15:53 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:53 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 442ms
2025-06-04 23:15:53 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:54 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 825ms
2025-06-04 23:15:54 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:54 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 197ms
2025-06-04 23:15:54 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:55 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 825ms
2025-06-04 23:15:55 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:57 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 1692ms
2025-06-04 23:15:57 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:57 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 137ms
2025-06-04 23:15:57 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:57 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 40ms
2025-06-04 23:15:57 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:57 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 126ms
2025-06-04 23:15:57 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:57 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 142ms
2025-06-04 23:15:57 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:57 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 108ms
2025-06-04 23:15:57 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:57 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 256ms
2025-06-04 23:15:57 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues()
2025-06-04 23:15:58 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getTagValues() => 369ms
2025-06-04 23:15:58 [http-nio-10273-exec-10] DEBUG com.nhnacademy.environment.tree.service.BuildTreeService - 최종 트리: TreeNode(label=루트, tag=root, value=root, children=[TreeNode(label=경남 캠퍼스, tag=building, value=gyeongnam_campus, children=[TreeNode(label=서버 데이터, tag=origin, value=server_data, children=[TreeNode(label=전력 계측기, tag=location, value=power_meter, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=modbus, tag=gatewayId, value=modbus, children=[TreeNode(label=전류(A), tag=measurement, value=current_amps, children=[]), TreeNode(label=역률(%), tag=measurement, value=power_factor_avg_percent, children=[]), TreeNode(label=전력 사용량(W), tag=measurement, value=power_watts, children=[]), TreeNode(label=온도(℃), tag=measurement, value=temperature_celsius, children=[])])])])]), TreeNode(label=서버 리소스, tag=location, value=server_resource_data, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=CPU, tag=gatewayId, value=cpu, children=[TreeNode(label=CPU 가용률(%), tag=measurement, value=usage_idle, children=[]), TreeNode(label=I/O 대기시간(%), tag=measurement, value=usage_iowait, children=[]), TreeNode(label=시스템 사용률(%), tag=measurement, value=usage_system, children=[]), TreeNode(label=사용자 사용률(%), tag=measurement, value=usage_user, children=[])]), TreeNode(label=디스크, tag=gatewayId, value=disk, children=[TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=디스크 I/O, tag=gatewayId, value=diskio, children=[TreeNode(label=I/O 작업 시간(ms), tag=measurement, value=io_time, children=[]), TreeNode(label=읽기량(Byte), tag=measurement, value=read_bytes, children=[]), TreeNode(label=쓰기량(Byte), tag=measurement, value=write_bytes, children=[])]), TreeNode(label=메모리, tag=gatewayId, value=mem, children=[TreeNode(label=메모리 가용률(%), tag=measurement, value=available_percent, children=[]), TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=네트워크, tag=gatewayId, value=net, children=[TreeNode(label=수신량(Byte), tag=measurement, value=bytes_recv, children=[]), TreeNode(label=전송량(Byte), tag=measurement, value=bytes_sent, children=[])]), TreeNode(label=센서, tag=gatewayId, value=sensors, children=[TreeNode(label=센서 온도(℃), tag=measurement, value=temp_input, children=[])]), TreeNode(label=스왑, tag=gatewayId, value=swap, children=[TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=시스템, tag=gatewayId, value=system, children=[TreeNode(label=1분 평균 부하, tag=measurement, value=load1, children=[])])])])]), TreeNode(label=서비스 리소스, tag=location, value=service_resource_data, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=인증 서비스, tag=gatewayId, value=javame-auth, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=환경 API, tag=gatewayId, value=javame-environment-api, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=프론트엔드, tag=gatewayId, value=javame-frontend, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=디스크 읽기량(Byte), tag=measurement, value=disk_io_bytes_direction_read, children=[]), TreeNode(label=디스크 쓰기량(Byte), tag=measurement, value=disk_io_bytes_direction_write, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=게이트웨이, tag=gatewayId, value=javame-gateway, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=회원 서비스, tag=gatewayId, value=javame-member, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])])])])]), TreeNode(label=출입구, tag=location, value=입구, children=[TreeNode(label=24e124743d011875, tag=deviceId, value=24e124743d011875, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=Leq, tag=measurement, value=Leq, children=[]), TreeNode(label=Lmax, tag=measurement, value=Lmax, children=[]), TreeNode(label=SPL, tag=measurement, value=SPL, children=[]), TreeNode(label=battery, tag=measurement, value=battery, children=[])])])])])])])
2025-06-04 23:15:58 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.tree.service.BuildTreeService.buildTree() => 15253ms
2025-06-04 23:15:58 [http-nio-10273-exec-10] DEBUG com.nhnacademy.environment.controller.BuildTreeController - 반환되는 트리구조: TreeNode(label=루트, tag=root, value=root, children=[TreeNode(label=경남 캠퍼스, tag=building, value=gyeongnam_campus, children=[TreeNode(label=서버 데이터, tag=origin, value=server_data, children=[TreeNode(label=전력 계측기, tag=location, value=power_meter, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=modbus, tag=gatewayId, value=modbus, children=[TreeNode(label=전류(A), tag=measurement, value=current_amps, children=[]), TreeNode(label=역률(%), tag=measurement, value=power_factor_avg_percent, children=[]), TreeNode(label=전력 사용량(W), tag=measurement, value=power_watts, children=[]), TreeNode(label=온도(℃), tag=measurement, value=temperature_celsius, children=[])])])])]), TreeNode(label=서버 리소스, tag=location, value=server_resource_data, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=CPU, tag=gatewayId, value=cpu, children=[TreeNode(label=CPU 가용률(%), tag=measurement, value=usage_idle, children=[]), TreeNode(label=I/O 대기시간(%), tag=measurement, value=usage_iowait, children=[]), TreeNode(label=시스템 사용률(%), tag=measurement, value=usage_system, children=[]), TreeNode(label=사용자 사용률(%), tag=measurement, value=usage_user, children=[])]), TreeNode(label=디스크, tag=gatewayId, value=disk, children=[TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=디스크 I/O, tag=gatewayId, value=diskio, children=[TreeNode(label=I/O 작업 시간(ms), tag=measurement, value=io_time, children=[]), TreeNode(label=읽기량(Byte), tag=measurement, value=read_bytes, children=[]), TreeNode(label=쓰기량(Byte), tag=measurement, value=write_bytes, children=[])]), TreeNode(label=메모리, tag=gatewayId, value=mem, children=[TreeNode(label=메모리 가용률(%), tag=measurement, value=available_percent, children=[]), TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=네트워크, tag=gatewayId, value=net, children=[TreeNode(label=수신량(Byte), tag=measurement, value=bytes_recv, children=[]), TreeNode(label=전송량(Byte), tag=measurement, value=bytes_sent, children=[])]), TreeNode(label=센서, tag=gatewayId, value=sensors, children=[TreeNode(label=센서 온도(℃), tag=measurement, value=temp_input, children=[])]), TreeNode(label=스왑, tag=gatewayId, value=swap, children=[TreeNode(label=메모리 사용률(%), tag=measurement, value=used_percent, children=[])]), TreeNode(label=시스템, tag=gatewayId, value=system, children=[TreeNode(label=1분 평균 부하, tag=measurement, value=load1, children=[])])])])]), TreeNode(label=서비스 리소스, tag=location, value=service_resource_data, children=[TreeNode(label=192.168.71.74, tag=deviceId, value=192.168.71.74, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=인증 서비스, tag=gatewayId, value=javame-auth, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=환경 API, tag=gatewayId, value=javame-environment-api, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=프론트엔드, tag=gatewayId, value=javame-frontend, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=디스크 읽기량(Byte), tag=measurement, value=disk_io_bytes_direction_read, children=[]), TreeNode(label=디스크 쓰기량(Byte), tag=measurement, value=disk_io_bytes_direction_write, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=게이트웨이, tag=gatewayId, value=javame-gateway, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])]), TreeNode(label=회원 서비스, tag=gatewayId, value=javame-member, children=[TreeNode(label=CPU 사용률(%), tag=measurement, value=cpu_utilization_percent, children=[]), TreeNode(label=Garbage Collector 실행 횟수, tag=measurement, value=gc_g1_young_generation_count, children=[]), TreeNode(label=Garbage Collector 대상 메모리 사용량(Byte), tag=measurement, value=memory_old_gen_used_bytes, children=[]), TreeNode(label=Heap 사용량(Byte), tag=measurement, value=memory_total_heap_used_bytes, children=[]), TreeNode(label=열린 파일 수, tag=measurement, value=process_open_file_descriptors_count, children=[]), TreeNode(label=활성 스레드 수, tag=measurement, value=thread_active_count, children=[])])])])]), TreeNode(label=출입구, tag=location, value=입구, children=[TreeNode(label=24e124743d011875, tag=deviceId, value=24e124743d011875, children=[TreeNode(label=서버실, tag=place, value=server_room, children=[TreeNode(label=Leq, tag=measurement, value=Leq, children=[]), TreeNode(label=Lmax, tag=measurement, value=Lmax, children=[]), TreeNode(label=SPL, tag=measurement, value=SPL, children=[]), TreeNode(label=battery, tag=measurement, value=battery, children=[])])])])])])])
2025-06-04 23:15:58 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.tree.service.BuildTreeService.convertToDto()
2025-06-04 23:15:58 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.tree.service.BuildTreeService.convertToDto() => 1ms
2025-06-04 23:15:58 [http-nio-10273-exec-10] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.BuildTreeController.getTree() => 15255ms
2025-06-04 23:16:03 [http-nio-10273-exec-1] DEBUG org.springframework.web.socket.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@68c7162b
2025-06-04 23:16:03 [http-nio-10273-exec-1] DEBUG org.springframework.web.socket.server.support.WebSocketHttpRequestHandler - GET /ws/environment
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake()
2025-06-04 23:16:03 [http-nio-10273-exec-1] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 시작 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:16:03 [http-nio-10273-exec-1] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Query parameter에서 토큰 추출 성공
2025-06-04 23:16:03 [http-nio-10273-exec-1] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT 토큰 검증 성공
2025-06-04 23:16:03 [http-nio-10273-exec-1] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT Claims 파싱 성공 - sub: test@javame.com, role: ROLE_OWNER
2025-06-04 23:16:03 [http-nio-10273-exec-1] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 시작 - userEmail: test@javame.com, role: ROLE_OWNER, uri: /members/me
2025-06-04 23:16:03 [http-nio-10273-exec-1] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 실패, fallback 사용. userEmail: test@javame.com, role: ROLE_OWNER
java.lang.NullPointerException: fallbackValue must not be null
	at java.base/java.util.Objects.requireNonNull(Objects.java:259) ~[?:?]
	at reactor.core.publisher.Mono.onErrorReturn(Mono.java:3953) ~[reactor-core-3.7.4.jar:3.7.4]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.getCompanyDomainFromMemberApi(AuthHandshakeInterceptor.java:230) ~[classes/:?]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake(AuthHandshakeInterceptor.java:88) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.config.TraceAspect.logMethodCall(TraceAspect.java:28) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor$$SpringCGLIB$$0.beforeHandshake(<generated>) ~[classes/:?]
	at org.springframework.web.socket.server.support.HandshakeInterceptorChain.applyBeforeHandshake(HandshakeInterceptorChain.java:60) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.socket.server.support.WebSocketHttpRequestHandler.handleRequest(WebSocketHttpRequestHandler.java:174) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-04 23:16:03 [http-nio-10273-exec-1] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 실패 - companyDomain을 조회할 수 없습니다. userEmail: test@javame.com
2025-06-04 23:16:03 [http-nio-10273-exec-1] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - 이메일에서 companyDomain 추출: test@javame.com -> javame
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 성공 - userEmail: test@javame.com, role: ROLE_OWNER, companyDomain: javame
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake() => 7ms
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake()
2025-06-04 23:16:03 [http-nio-10273-exec-1] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 완료 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake() => 0ms
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages()
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages() => 0ms
2025-06-04 23:16:03 [http-nio-10273-exec-1] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - New StandardWebSocketSession[id=43393985-7add-b89d-d25a-983cb98b2629, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA]
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished()
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession()
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 추가 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, companyDomain: javame, userEmail: test@javame.com, 총 세션 수: 1
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession() => 0ms
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 성공 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, companyDomain: javame, userEmail: test@javame.com
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 0ms
2025-06-04 23:16:03 [http-nio-10273-exec-1] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 1
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished() => 1ms
2025-06-04 23:16:03 [http-nio-10273-exec-1] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 메시지 수신 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, message: {"action":"subscribe","companyDomain":"","rangeMinutes":5,"building":"gyeongnam_campus","origin":"server_data","location":"server_resource_data","deviceId":"192.168.71.74","place":"server_room","gatewayId":"cpu","measurement":"usage_idle","_measurement":"usage_idle","_measurementLabel":"CPU 가용률(%)"}
2025-06-04 23:16:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:16:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:16:03 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:16:03 [http-nio-10273-exec-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 구독 설정 완료 (직접 전송 방식) - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:16:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:16:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:16:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 34ms
2025-06-04 23:16:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:11:08.254Z, location=server_resource_data, value=94.15150232734985, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=95.5006765898138, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.257Z, location=server_resource_data, value=94.96871300578395, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.254Z, location=server_resource_data, value=94.7346144058309, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:16:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:16:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:16:05 [http-nio-10273-exec-3] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor()
2025-06-04 23:16:05 [http-nio-10273-exec-3] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getChartDataForSensor, 파라미터 = [javame.com, usage_idle, server_data, 5]
2025-06-04 23:16:05 [http-nio-10273-exec-3] DEBUG com.nhnacademy.environment.controller.TimeSeriesDataController - chart called: companyDomain=javame.com, origin=server_data, rangeMinutes=5
2025-06-04 23:16:05 [http-nio-10273-exec-3] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData()
2025-06-04 23:16:06 [http-nio-10273-exec-3] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData() => 1401ms
2025-06-04 23:16:06 [http-nio-10273-exec-3] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor() => 1402ms
2025-06-04 23:16:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:16:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:16:13 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:16:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:16:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:16:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 39ms
2025-06-04 23:16:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:11:18.255Z, location=server_resource_data, value=95.5006765898138, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:28.257Z, location=server_resource_data, value=94.96871300578395, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.254Z, location=server_resource_data, value=94.7346144058309, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:16:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:16:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:16:14 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData()
2025-06-04 23:16:14 [http-nio-10273-exec-2] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getPieChartData, 파라미터 = [javame.com, server_data]
2025-06-04 23:16:14 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.controller.TimeSeriesDataController - pie called: companyDomain=javame, origin=server_data
2025-06-04 23:16:14 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData()
2025-06-04 23:16:14 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData() => 555ms
2025-06-04 23:16:14 [http-nio-10273-exec-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData() => 556ms
2025-06-04 23:16:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:16:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:16:23 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:16:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:16:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:16:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 280ms
2025-06-04 23:16:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:11:28.257Z, location=server_resource_data, value=94.96871300578395, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:38.254Z, location=server_resource_data, value=94.7346144058309, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:16:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:16:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:16:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:16:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:16:33 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:16:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:16:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:16:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 172ms
2025-06-04 23:16:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:11:38.254Z, location=server_resource_data, value=94.7346144058309, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:16:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:16:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:16:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:16:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:16:43 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:16:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:16:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:16:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 218ms
2025-06-04 23:16:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:11:48.257Z, location=server_resource_data, value=95.49031221057672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:16:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:16:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:16:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:16:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:16:53 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:16:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:16:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:16:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 392ms
2025-06-04 23:16:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:11:58.256Z, location=server_resource_data, value=93.82924767481057, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:16:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:16:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:16:56 [AsyncResolver-bootstrap-executor-%d] INFO  com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-06-04 23:17:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:17:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:17:03 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:17:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:17:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:17:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 210ms
2025-06-04 23:17:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:12:08.258Z, location=server_resource_data, value=94.19627749623757, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:17:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:17:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:17:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:17:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:17:13 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:17:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:17:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:17:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 1226ms
2025-06-04 23:17:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:12:18.257Z, location=server_resource_data, value=95.30893415549555, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:17:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:17:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:17:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:17:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:17:23 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:17:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:17:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:17:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 1279ms
2025-06-04 23:17:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:12:28.257Z, location=server_resource_data, value=94.82627440942655, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:17:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:17:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:17:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:17:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:17:33 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:17:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:17:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:17:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 356ms
2025-06-04 23:17:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:12:38.258Z, location=server_resource_data, value=94.28837366727278, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:17:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:17:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:17:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:17:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:17:43 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:17:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:17:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:17:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 342ms
2025-06-04 23:17:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:12:48.262Z, location=server_resource_data, value=95.19499196374332, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:17:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:17:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:17:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:17:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:17:53 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:17:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:17:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:17:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 480ms
2025-06-04 23:17:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:12:58.260Z, location=server_resource_data, value=94.5182302678301, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:17:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:17:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:18:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:18:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:18:03 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:18:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:18:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:18:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 85ms
2025-06-04 23:18:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:13:08.260Z, location=server_resource_data, value=93.89584037963938, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:18:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:18:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:18:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:18:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:18:13 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:18:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:18:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:18:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 223ms
2025-06-04 23:18:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:13:18.258Z, location=server_resource_data, value=95.22923363180918, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:18:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:18:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:18:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:18:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:18:23 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:18:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:18:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:18:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 189ms
2025-06-04 23:18:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:13:28.260Z, location=server_resource_data, value=94.94548221031373, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:18:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:18:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:18:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:18:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:18:33 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:18:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 29건
2025-06-04 23:18:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:18:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 385ms
2025-06-04 23:18:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:18:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 29 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:18:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 29
2025-06-04 23:18:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:18:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:18:43 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:18:44 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:18:44 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:18:44 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 1261ms
2025-06-04 23:18:44 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:13:48.410Z, location=server_resource_data, value=95.15310438138702, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:18:44 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:18:44 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:18:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:18:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:18:53 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:18:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:18:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:18:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 26ms
2025-06-04 23:18:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:13:58.264Z, location=server_resource_data, value=94.81475215782547, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:18:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:18:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:19:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:19:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:19:03 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:19:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:19:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:19:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 1283ms
2025-06-04 23:19:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:14:08.261Z, location=server_resource_data, value=93.95222768026669, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:19:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:19:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:19:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:19:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:19:13 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:19:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:19:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:19:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 1280ms
2025-06-04 23:19:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:14:18.262Z, location=server_resource_data, value=95.41299932459714, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:19:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:19:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:19:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:19:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:19:23 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:19:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:19:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:19:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 459ms
2025-06-04 23:19:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:14:28.264Z, location=server_resource_data, value=94.89044919821882, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:19:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:19:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:19:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:19:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:19:33 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:19:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:19:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:19:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 159ms
2025-06-04 23:19:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:14:38.264Z, location=server_resource_data, value=94.43457667412079, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:19:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:19:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:19:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:19:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:19:43 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:19:44 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:19:44 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:19:44 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 1119ms
2025-06-04 23:19:44 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:14:48.267Z, location=server_resource_data, value=95.61470215354815, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:19:44 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:19:44 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:19:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:19:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:19:53 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:19:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:19:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:19:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 532ms
2025-06-04 23:19:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:14:58.265Z, location=server_resource_data, value=94.3702451393854, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:19:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:19:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:20:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:20:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:20:03 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:20:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:20:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:20:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 1279ms
2025-06-04 23:20:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:15:08.261Z, location=server_resource_data, value=93.90656736672913, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:20:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:20:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:20:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:20:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:20:13 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:20:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:20:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:20:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 1284ms
2025-06-04 23:20:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:15:18.262Z, location=server_resource_data, value=95.48376184053048, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:20:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:20:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:20:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:20:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:20:23 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:20:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:20:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:20:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 78ms
2025-06-04 23:20:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:15:28.266Z, location=server_resource_data, value=93.27475498400291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:20:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:20:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:20:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:20:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:20:33 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:20:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:20:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:20:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 155ms
2025-06-04 23:20:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:15:38.263Z, location=server_resource_data, value=94.75110057636286, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:20:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:20:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:20:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:20:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:20:43 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:20:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:20:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:20:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 449ms
2025-06-04 23:20:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:15:48.266Z, location=server_resource_data, value=95.42184987709427, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:20:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:20:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:20:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:20:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:20:53 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:20:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:20:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:20:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 39ms
2025-06-04 23:20:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:15:58.264Z, location=server_resource_data, value=94.52530039023166, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:20:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:20:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:21:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:21:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:21:03 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:21:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:21:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:21:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 39ms
2025-06-04 23:21:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:16:08.264Z, location=server_resource_data, value=94.20780760448842, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:21:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:21:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:21:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:21:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:21:13 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:21:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:21:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:21:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 145ms
2025-06-04 23:21:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:16:18.265Z, location=server_resource_data, value=95.51797040106126, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:21:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:21:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:21:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:21:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:21:23 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:21:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:21:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:21:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 1214ms
2025-06-04 23:21:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:16:28.264Z, location=server_resource_data, value=94.98392826952988, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:21:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:21:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:21:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:21:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:21:33 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:21:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:21:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:21:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 317ms
2025-06-04 23:21:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:16:38.268Z, location=server_resource_data, value=94.45102351655808, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:21:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:21:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:21:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:21:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:21:43 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:21:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:21:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:21:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 157ms
2025-06-04 23:21:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:16:48.267Z, location=server_resource_data, value=95.60727888172414, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:21:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:21:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:21:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:21:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:21:53 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:21:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:21:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:21:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 23ms
2025-06-04 23:21:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:16:58.268Z, location=server_resource_data, value=94.7506339806805, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:21:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:21:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:21:56 [AsyncResolver-bootstrap-executor-%d] INFO  com.netflix.discovery.shared.resolver.aws.ConfigClusterResolver - Resolving eureka endpoints via configuration
2025-06-04 23:22:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:22:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:22:03 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:22:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:22:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:22:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 215ms
2025-06-04 23:22:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:17:08.268Z, location=server_resource_data, value=94.2426551514987, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:22:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:22:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:22:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:22:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:22:13 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:22:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:22:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:22:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 503ms
2025-06-04 23:22:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:17:18.269Z, location=server_resource_data, value=95.57020881007227, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:22:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:22:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:22:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:22:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:22:23 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:22:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:22:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:22:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 204ms
2025-06-04 23:22:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:17:28.272Z, location=server_resource_data, value=94.97381314469727, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:22:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:22:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:22:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:22:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:22:33 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:22:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:22:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:22:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 356ms
2025-06-04 23:22:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:17:38.269Z, location=server_resource_data, value=94.50558753655251, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:22:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:22:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:22:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:22:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:22:43 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:22:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:22:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:22:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 210ms
2025-06-04 23:22:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:17:48.270Z, location=server_resource_data, value=95.53412839582745, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:22:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:22:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:22:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:22:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:22:53 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:22:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:22:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:22:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 363ms
2025-06-04 23:22:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:17:58.270Z, location=server_resource_data, value=94.30310201846814, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:22:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:22:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:23:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:23:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:23:03 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:23:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:23:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:23:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 1010ms
2025-06-04 23:23:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:18:08.270Z, location=server_resource_data, value=93.86269364254295, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:23:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:23:04 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:23:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:23:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:23:13 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:23:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:23:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:23:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 321ms
2025-06-04 23:23:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:18:18.274Z, location=server_resource_data, value=95.41571513303465, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:08.296Z, location=server_resource_data, value=94.125613677766, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:23:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:23:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:23:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:23:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:23:23 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:23:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:23:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:23:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 705ms
2025-06-04 23:23:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:18:28.273Z, location=server_resource_data, value=94.72393675326524, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:08.296Z, location=server_resource_data, value=94.125613677766, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:18.296Z, location=server_resource_data, value=95.585250339242, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:23:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:23:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:23:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:23:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:23:33 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:23:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:23:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:23:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 356ms
2025-06-04 23:23:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:18:38.274Z, location=server_resource_data, value=94.8108016600262, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:08.296Z, location=server_resource_data, value=94.125613677766, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:18.296Z, location=server_resource_data, value=95.585250339242, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:28.297Z, location=server_resource_data, value=95.0862652243408, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:23:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:23:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:23:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:23:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:23:43 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:23:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:23:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:23:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 205ms
2025-06-04 23:23:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:18:48.275Z, location=server_resource_data, value=95.05369070657989, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:08.296Z, location=server_resource_data, value=94.125613677766, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:18.296Z, location=server_resource_data, value=95.585250339242, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:28.297Z, location=server_resource_data, value=95.0862652243408, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:38.293Z, location=server_resource_data, value=94.67716002436401, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:23:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:23:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:23:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:23:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:23:53 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:23:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:23:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:23:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 199ms
2025-06-04 23:23:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:18:58.274Z, location=server_resource_data, value=94.0147096132485, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:08.296Z, location=server_resource_data, value=94.125613677766, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:18.296Z, location=server_resource_data, value=95.585250339242, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:28.297Z, location=server_resource_data, value=95.0862652243408, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:38.293Z, location=server_resource_data, value=94.67716002436401, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:48.297Z, location=server_resource_data, value=95.08196721285672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:23:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:23:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:24:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:24:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:24:03 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:24:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:24:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:24:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 677ms
2025-06-04 23:24:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:19:08.275Z, location=server_resource_data, value=94.34569155267626, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:08.296Z, location=server_resource_data, value=94.125613677766, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:18.296Z, location=server_resource_data, value=95.585250339242, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:28.297Z, location=server_resource_data, value=95.0862652243408, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:38.293Z, location=server_resource_data, value=94.67716002436401, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:48.297Z, location=server_resource_data, value=95.08196721285672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:58.295Z, location=server_resource_data, value=94.647839687358, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:24:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:24:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:24:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:24:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:24:13 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:24:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:24:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:24:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 244ms
2025-06-04 23:24:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:19:18.274Z, location=server_resource_data, value=95.71174828700089, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:08.296Z, location=server_resource_data, value=94.125613677766, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:18.296Z, location=server_resource_data, value=95.585250339242, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:28.297Z, location=server_resource_data, value=95.0862652243408, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:38.293Z, location=server_resource_data, value=94.67716002436401, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:48.297Z, location=server_resource_data, value=95.08196721285672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:58.295Z, location=server_resource_data, value=94.647839687358, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:08.294Z, location=server_resource_data, value=94.29854286640291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:24:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:24:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:24:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:24:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:24:23 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:24:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:24:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:24:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 1159ms
2025-06-04 23:24:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:19:28.276Z, location=server_resource_data, value=94.77555161066135, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:08.296Z, location=server_resource_data, value=94.125613677766, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:18.296Z, location=server_resource_data, value=95.585250339242, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:28.297Z, location=server_resource_data, value=95.0862652243408, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:38.293Z, location=server_resource_data, value=94.67716002436401, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:48.297Z, location=server_resource_data, value=95.08196721285672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:58.295Z, location=server_resource_data, value=94.647839687358, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:08.294Z, location=server_resource_data, value=94.29854286640291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:18.298Z, location=server_resource_data, value=95.40881034943561, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:24:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:24:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:24:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:24:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:24:33 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:24:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:24:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:24:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 156ms
2025-06-04 23:24:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:19:38.278Z, location=server_resource_data, value=94.5952803852052, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:08.296Z, location=server_resource_data, value=94.125613677766, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:18.296Z, location=server_resource_data, value=95.585250339242, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:28.297Z, location=server_resource_data, value=95.0862652243408, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:38.293Z, location=server_resource_data, value=94.67716002436401, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:48.297Z, location=server_resource_data, value=95.08196721285672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:58.295Z, location=server_resource_data, value=94.647839687358, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:08.294Z, location=server_resource_data, value=94.29854286640291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:18.298Z, location=server_resource_data, value=95.40881034943561, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:28.297Z, location=server_resource_data, value=94.58773784481194, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:24:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:24:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:24:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:24:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:24:43 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:24:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:24:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:24:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 427ms
2025-06-04 23:24:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:19:48.281Z, location=server_resource_data, value=95.7297480122822, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:08.296Z, location=server_resource_data, value=94.125613677766, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:18.296Z, location=server_resource_data, value=95.585250339242, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:28.297Z, location=server_resource_data, value=95.0862652243408, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:38.293Z, location=server_resource_data, value=94.67716002436401, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:48.297Z, location=server_resource_data, value=95.08196721285672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:58.295Z, location=server_resource_data, value=94.647839687358, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:08.294Z, location=server_resource_data, value=94.29854286640291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:18.298Z, location=server_resource_data, value=95.40881034943561, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:28.297Z, location=server_resource_data, value=94.58773784481194, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:38.300Z, location=server_resource_data, value=94.55022425214212, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:24:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:24:43 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:24:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:24:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:24:53 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:24:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:24:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:24:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 82ms
2025-06-04 23:24:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:19:58.280Z, location=server_resource_data, value=94.75196484341046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:08.296Z, location=server_resource_data, value=94.125613677766, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:18.296Z, location=server_resource_data, value=95.585250339242, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:28.297Z, location=server_resource_data, value=95.0862652243408, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:38.293Z, location=server_resource_data, value=94.67716002436401, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:48.297Z, location=server_resource_data, value=95.08196721285672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:58.295Z, location=server_resource_data, value=94.647839687358, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:08.294Z, location=server_resource_data, value=94.29854286640291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:18.298Z, location=server_resource_data, value=95.40881034943561, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:28.297Z, location=server_resource_data, value=94.58773784481194, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:38.300Z, location=server_resource_data, value=94.55022425214212, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:48.301Z, location=server_resource_data, value=95.53148273427097, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:24:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:24:53 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:25:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:25:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:25:03 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:25:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:25:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:25:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 223ms
2025-06-04 23:25:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:20:08.280Z, location=server_resource_data, value=94.17640088104017, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:08.296Z, location=server_resource_data, value=94.125613677766, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:18.296Z, location=server_resource_data, value=95.585250339242, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:28.297Z, location=server_resource_data, value=95.0862652243408, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:38.293Z, location=server_resource_data, value=94.67716002436401, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:48.297Z, location=server_resource_data, value=95.08196721285672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:58.295Z, location=server_resource_data, value=94.647839687358, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:08.294Z, location=server_resource_data, value=94.29854286640291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:18.298Z, location=server_resource_data, value=95.40881034943561, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:28.297Z, location=server_resource_data, value=94.58773784481194, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:38.300Z, location=server_resource_data, value=94.55022425214212, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:48.301Z, location=server_resource_data, value=95.53148273427097, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:58.304Z, location=server_resource_data, value=94.05053663550045, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:25:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:25:03 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:25:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:25:13 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:25:13 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:25:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:25:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:25:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 1281ms
2025-06-04 23:25:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:20:18.282Z, location=server_resource_data, value=95.59806992355807, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:08.296Z, location=server_resource_data, value=94.125613677766, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:18.296Z, location=server_resource_data, value=95.585250339242, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:28.297Z, location=server_resource_data, value=95.0862652243408, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:38.293Z, location=server_resource_data, value=94.67716002436401, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:48.297Z, location=server_resource_data, value=95.08196721285672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:58.295Z, location=server_resource_data, value=94.647839687358, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:08.294Z, location=server_resource_data, value=94.29854286640291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:18.298Z, location=server_resource_data, value=95.40881034943561, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:28.297Z, location=server_resource_data, value=94.58773784481194, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:38.300Z, location=server_resource_data, value=94.55022425214212, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:48.301Z, location=server_resource_data, value=95.53148273427097, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:58.304Z, location=server_resource_data, value=94.05053663550045, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:25:08.301Z, location=server_resource_data, value=93.23352786943268, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:25:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:25:14 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:25:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:25:23 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:25:23 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:25:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:25:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:25:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 1280ms
2025-06-04 23:25:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:20:28.279Z, location=server_resource_data, value=95.13988673832802, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:08.296Z, location=server_resource_data, value=94.125613677766, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:18.296Z, location=server_resource_data, value=95.585250339242, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:28.297Z, location=server_resource_data, value=95.0862652243408, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:38.293Z, location=server_resource_data, value=94.67716002436401, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:48.297Z, location=server_resource_data, value=95.08196721285672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:58.295Z, location=server_resource_data, value=94.647839687358, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:08.294Z, location=server_resource_data, value=94.29854286640291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:18.298Z, location=server_resource_data, value=95.40881034943561, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:28.297Z, location=server_resource_data, value=94.58773784481194, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:38.300Z, location=server_resource_data, value=94.55022425214212, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:48.301Z, location=server_resource_data, value=95.53148273427097, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:58.304Z, location=server_resource_data, value=94.05053663550045, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:25:08.301Z, location=server_resource_data, value=93.23352786943268, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:25:18.301Z, location=server_resource_data, value=95.43993231771562, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:25:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:25:24 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:25:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:25:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: usage_idle, gatewayId: cpu, rangeMinutes: 5
2025-06-04 23:25:33 [websocket-scheduler-2] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "usage_idle") |> filter(fn: (r) => r["gatewayId"] == "cpu") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:25:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:25:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=usage_idle, gatewayId=cpu, rangeMinutes=5
2025-06-04 23:25:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 357ms
2025-06-04 23:25:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:20:38.283Z, location=server_resource_data, value=94.39465674746457, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:48.281Z, location=server_resource_data, value=95.6205613800729, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:20:58.281Z, location=server_resource_data, value=94.99619643168892, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:08.284Z, location=server_resource_data, value=93.96734072332622, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:18.288Z, location=server_resource_data, value=95.44993234182046, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:28.283Z, location=server_resource_data, value=95.11329049616685, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:38.286Z, location=server_resource_data, value=93.17432123803813, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:48.292Z, location=server_resource_data, value=95.57604466221031, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:21:58.286Z, location=server_resource_data, value=94.52391028447778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:08.289Z, location=server_resource_data, value=94.26541486833591, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:18.291Z, location=server_resource_data, value=95.64187188068519, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:28.287Z, location=server_resource_data, value=95.02916560779316, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:38.290Z, location=server_resource_data, value=93.9281183934867, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:48.293Z, location=server_resource_data, value=95.60987988693272, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:22:58.293Z, location=server_resource_data, value=94.63047522272778, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:08.296Z, location=server_resource_data, value=94.125613677766, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:18.296Z, location=server_resource_data, value=95.585250339242, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:28.297Z, location=server_resource_data, value=95.0862652243408, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:38.293Z, location=server_resource_data, value=94.67716002436401, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:48.297Z, location=server_resource_data, value=95.08196721285672, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:23:58.295Z, location=server_resource_data, value=94.647839687358, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:08.294Z, location=server_resource_data, value=94.29854286640291, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:18.298Z, location=server_resource_data, value=95.40881034943561, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:28.297Z, location=server_resource_data, value=94.58773784481194, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:38.300Z, location=server_resource_data, value=94.55022425214212, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:48.301Z, location=server_resource_data, value=95.53148273427097, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:24:58.304Z, location=server_resource_data, value=94.05053663550045, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:25:08.301Z, location=server_resource_data, value=93.23352786943268, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:25:18.301Z, location=server_resource_data, value=95.43993231771562, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu}), TimeSeriesDataDto(time=2025-06-04T14:25:28.307Z, location=server_resource_data, value=93.96398681448171, measurement=usage_idle, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=cpu})]
2025-06-04 23:25:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:25:33 [websocket-scheduler-2] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, 데이터 건수: 30
2025-06-04 23:25:33 [http-nio-10273-exec-5] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - StandardWebSocketSession[id=43393985-7add-b89d-d25a-983cb98b2629, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA] closed with CloseStatus[code=1002, reason=null]
2025-06-04 23:25:33 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed()
2025-06-04 23:25:33 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 종료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, companyDomain: javame, status: CloseStatus[code=1002, reason=null]
2025-06-04 23:25:33 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession()
2025-06-04 23:25:33 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 제거 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629, companyDomain: javame, 총 세션 수: 0
2025-06-04 23:25:33 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.removeSession() => 0ms
2025-06-04 23:25:33 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 기존 스케줄 취소 완료 - sessionId: 43393985-7add-b89d-d25a-983cb98b2629
2025-06-04 23:25:33 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:25:33 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 0ms
2025-06-04 23:25:33 [http-nio-10273-exec-5] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 0
2025-06-04 23:25:33 [http-nio-10273-exec-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionClosed() => 0ms
2025-06-04 23:25:33 [http-nio-10273-exec-6] DEBUG org.springframework.web.socket.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.server.support.WebSocketHttpRequestHandler@68c7162b
2025-06-04 23:25:33 [http-nio-10273-exec-6] DEBUG org.springframework.web.socket.server.support.WebSocketHttpRequestHandler - GET /ws/environment
2025-06-04 23:25:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake()
2025-06-04 23:25:33 [http-nio-10273-exec-6] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 시작 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:25:33 [http-nio-10273-exec-6] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Query parameter에서 토큰 추출 성공
2025-06-04 23:25:33 [http-nio-10273-exec-6] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT 토큰 검증 성공
2025-06-04 23:25:33 [http-nio-10273-exec-6] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - JWT Claims 파싱 성공 - sub: test@javame.com, role: ROLE_OWNER
2025-06-04 23:25:33 [http-nio-10273-exec-6] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 시작 - userEmail: test@javame.com, role: ROLE_OWNER, uri: /members/me
2025-06-04 23:25:33 [http-nio-10273-exec-6] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - Member API 호출 실패, fallback 사용. userEmail: test@javame.com, role: ROLE_OWNER
java.lang.NullPointerException: fallbackValue must not be null
	at java.base/java.util.Objects.requireNonNull(Objects.java:259) ~[?:?]
	at reactor.core.publisher.Mono.onErrorReturn(Mono.java:3953) ~[reactor-core-3.7.4.jar:3.7.4]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.getCompanyDomainFromMemberApi(AuthHandshakeInterceptor.java:230) ~[classes/:?]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake(AuthHandshakeInterceptor.java:88) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.config.TraceAspect.logMethodCall(TraceAspect.java:28) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.2.5.jar:6.2.5]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727) ~[spring-aop-6.2.5.jar:6.2.5]
	at com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor$$SpringCGLIB$$0.beforeHandshake(<generated>) ~[classes/:?]
	at org.springframework.web.socket.server.support.HandshakeInterceptorChain.applyBeforeHandshake(HandshakeInterceptorChain.java:60) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.socket.server.support.WebSocketHttpRequestHandler.handleRequest(WebSocketHttpRequestHandler.java:174) ~[spring-websocket-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.5.jar:6.2.5]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.39.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.5.jar:6.2.5]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.5.jar:6.2.5]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.39.jar:10.1.39]
	at java.base/java.lang.Thread.run(Thread.java:1583) [?:?]
2025-06-04 23:25:33 [http-nio-10273-exec-6] WARN  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 실패 - companyDomain을 조회할 수 없습니다. userEmail: test@javame.com
2025-06-04 23:25:33 [http-nio-10273-exec-6] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - 이메일에서 companyDomain 추출: test@javame.com -> javame
2025-06-04 23:25:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 성공 - userEmail: test@javame.com, role: ROLE_OWNER, companyDomain: javame
2025-06-04 23:25:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.beforeHandshake() => 3ms
2025-06-04 23:25:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake()
2025-06-04 23:25:33 [http-nio-10273-exec-6] DEBUG com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor - WebSocket handshake 완료 - URI: http://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA
2025-06-04 23:25:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.interceptor.AuthHandshakeInterceptor.afterHandshake() => 0ms
2025-06-04 23:25:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages()
2025-06-04 23:25:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.supportsPartialMessages() => 0ms
2025-06-04 23:25:33 [http-nio-10273-exec-6] DEBUG org.springframework.web.socket.handler.LoggingWebSocketHandlerDecorator - New StandardWebSocketSession[id=c6680623-4832-fbb1-fc85-6f07800513dd, uri=ws://192.168.71.100:10273/ws/environment?token=eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0QGphdmFtZS5jb20iLCJyb2xlIjoiUk9MRV9PV05FUiIsImlhdCI6MTc0OTA0MTQxNCwiZXhwIjoxNzQ5MDc3NDE0fQ.pyqoFDwSDt9UV6-363B5NlsdBmlrmAr8t1BhjM8F-iundijfmYjQ4ZmbqZ96Z202pqOChtttYEkWBGaZ9bhqgA]
2025-06-04 23:25:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished()
2025-06-04 23:25:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession()
2025-06-04 23:25:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.websocket.manager.WebSocketSessionManager - 세션 추가 완료 - sessionId: c6680623-4832-fbb1-fc85-6f07800513dd, companyDomain: javame, userEmail: test@javame.com, 총 세션 수: 1
2025-06-04 23:25:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.addSession() => 1ms
2025-06-04 23:25:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 연결 성공 - sessionId: c6680623-4832-fbb1-fc85-6f07800513dd, companyDomain: javame, userEmail: test@javame.com
2025-06-04 23:25:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount()
2025-06-04 23:25:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.manager.WebSocketSessionManager.getTotalSessionCount() => 0ms
2025-06-04 23:25:33 [http-nio-10273-exec-6] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 현재 활성 세션 수: 1
2025-06-04 23:25:33 [http-nio-10273-exec-6] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler.afterConnectionEstablished() => 1ms
2025-06-04 23:25:33 [http-nio-10273-exec-7] DEBUG com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket 메시지 수신 - sessionId: c6680623-4832-fbb1-fc85-6f07800513dd, message: {"action":"subscribe","companyDomain":"","rangeMinutes":5,"building":"gyeongnam_campus","origin":"server_data","location":"server_resource_data","deviceId":"192.168.71.74","place":"server_room","gatewayId":"mem","measurement":"used_percent","_measurement":"used_percent","_measurementLabel":"메모리 사용률(%)"}
2025-06-04 23:25:33 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:25:33 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:25:33 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:25:33 [http-nio-10273-exec-7] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 구독 설정 완료 (직접 전송 방식) - sessionId: c6680623-4832-fbb1-fc85-6f07800513dd
2025-06-04 23:25:33 [websocket-scheduler-1] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:25:33 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:25:33 [websocket-scheduler-1] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:25:33 [websocket-scheduler-1] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 27ms
2025-06-04 23:25:33 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:20:38.284Z, location=server_resource_data, value=59.32308417558082, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:20:48.285Z, location=server_resource_data, value=59.332726709170224, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:20:58.279Z, location=server_resource_data, value=59.33519340380938, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:08.281Z, location=server_resource_data, value=59.329587279629486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:18.290Z, location=server_resource_data, value=59.338307917242645, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:28.289Z, location=server_resource_data, value=59.31281873930476, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:38.289Z, location=server_resource_data, value=59.312968235949555, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:48.296Z, location=server_resource_data, value=59.334919326627244, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:58.292Z, location=server_resource_data, value=59.32936303466229, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:08.291Z, location=server_resource_data, value=59.341547011213244, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:18.293Z, location=server_resource_data, value=59.343365887058276, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:28.289Z, location=server_resource_data, value=59.318449779592115, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:38.296Z, location=server_resource_data, value=59.341248017923654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:48.292Z, location=server_resource_data, value=59.31722889032627, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:58.290Z, location=server_resource_data, value=59.32936303466229, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:08.290Z, location=server_resource_data, value=59.35393031662393, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:18.297Z, location=server_resource_data, value=59.3321536386985, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:28.300Z, location=server_resource_data, value=59.308059762778726, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:38.299Z, location=server_resource_data, value=59.34027628973247, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:48.299Z, location=server_resource_data, value=59.31391504803327, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:58.291Z, location=server_resource_data, value=59.31678040039188, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:08.296Z, location=server_resource_data, value=59.3089567426475, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:18.299Z, location=server_resource_data, value=59.29203870567798, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:28.299Z, location=server_resource_data, value=59.32026865543714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:38.296Z, location=server_resource_data, value=59.32993610513402, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:48.302Z, location=server_resource_data, value=59.32565053464983, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:58.299Z, location=server_resource_data, value=59.33437117226299, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:08.298Z, location=server_resource_data, value=59.30935540036696, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:18.297Z, location=server_resource_data, value=59.30945506479683, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:28.308Z, location=server_resource_data, value=59.532254897759245, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:25:33 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: c6680623-4832-fbb1-fc85-6f07800513dd
2025-06-04 23:25:33 [websocket-scheduler-1] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: c6680623-4832-fbb1-fc85-6f07800513dd, 데이터 건수: 30
2025-06-04 23:25:37 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor()
2025-06-04 23:25:37 [http-nio-10273-exec-8] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getChartDataForSensor, 파라미터 = [javame.com, used_percent, server_data, 5]
2025-06-04 23:25:37 [http-nio-10273-exec-8] DEBUG com.nhnacademy.environment.controller.TimeSeriesDataController - chart called: companyDomain=javame.com, origin=server_data, rangeMinutes=5
2025-06-04 23:25:37 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData()
2025-06-04 23:25:38 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getChartData() => 1024ms
2025-06-04 23:25:38 [http-nio-10273-exec-8] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getChartDataForSensor() => 1024ms
2025-06-04 23:25:41 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData()
2025-06-04 23:25:41 [http-nio-10273-exec-9] DEBUG com.nhnacademy.environment.config.annotation.NormalizeCompanyDomainAspect - 정제된 companyDomain = javame, 호출 클래스 = com.nhnacademy.environment.controller.TimeSeriesDataController, 메서드 = getPieChartData, 파라미터 = [javame.com, server_data]
2025-06-04 23:25:41 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.controller.TimeSeriesDataController - pie called: companyDomain=javame, origin=server_data
2025-06-04 23:25:41 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData()
2025-06-04 23:25:41 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getPieChartData() => 38ms
2025-06-04 23:25:41 [http-nio-10273-exec-9] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.controller.TimeSeriesDataController.getPieChartData() => 38ms
2025-06-04 23:25:43 [websocket-scheduler-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:25:43 [websocket-scheduler-5] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:25:43 [websocket-scheduler-5] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:25:44 [websocket-scheduler-5] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:25:44 [websocket-scheduler-5] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:25:44 [websocket-scheduler-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 233ms
2025-06-04 23:25:44 [websocket-scheduler-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:20:48.285Z, location=server_resource_data, value=59.332726709170224, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:20:58.279Z, location=server_resource_data, value=59.33519340380938, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:08.281Z, location=server_resource_data, value=59.329587279629486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:18.290Z, location=server_resource_data, value=59.338307917242645, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:28.289Z, location=server_resource_data, value=59.31281873930476, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:38.289Z, location=server_resource_data, value=59.312968235949555, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:48.296Z, location=server_resource_data, value=59.334919326627244, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:58.292Z, location=server_resource_data, value=59.32936303466229, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:08.291Z, location=server_resource_data, value=59.341547011213244, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:18.293Z, location=server_resource_data, value=59.343365887058276, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:28.289Z, location=server_resource_data, value=59.318449779592115, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:38.296Z, location=server_resource_data, value=59.341248017923654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:48.292Z, location=server_resource_data, value=59.31722889032627, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:58.290Z, location=server_resource_data, value=59.32936303466229, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:08.290Z, location=server_resource_data, value=59.35393031662393, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:18.297Z, location=server_resource_data, value=59.3321536386985, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:28.300Z, location=server_resource_data, value=59.308059762778726, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:38.299Z, location=server_resource_data, value=59.34027628973247, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:48.299Z, location=server_resource_data, value=59.31391504803327, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:58.291Z, location=server_resource_data, value=59.31678040039188, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:08.296Z, location=server_resource_data, value=59.3089567426475, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:18.299Z, location=server_resource_data, value=59.29203870567798, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:28.299Z, location=server_resource_data, value=59.32026865543714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:38.296Z, location=server_resource_data, value=59.32993610513402, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:48.302Z, location=server_resource_data, value=59.32565053464983, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:58.299Z, location=server_resource_data, value=59.33437117226299, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:08.298Z, location=server_resource_data, value=59.30935540036696, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:18.297Z, location=server_resource_data, value=59.30945506479683, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:28.308Z, location=server_resource_data, value=59.532254897759245, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:38.301Z, location=server_resource_data, value=59.37358912541473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:25:44 [websocket-scheduler-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: c6680623-4832-fbb1-fc85-6f07800513dd
2025-06-04 23:25:44 [websocket-scheduler-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: c6680623-4832-fbb1-fc85-6f07800513dd, 데이터 건수: 30
2025-06-04 23:25:53 [websocket-scheduler-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:25:53 [websocket-scheduler-5] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:25:53 [websocket-scheduler-5] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:25:53 [websocket-scheduler-5] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:25:53 [websocket-scheduler-5] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:25:53 [websocket-scheduler-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 106ms
2025-06-04 23:25:53 [websocket-scheduler-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:20:58.279Z, location=server_resource_data, value=59.33519340380938, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:08.281Z, location=server_resource_data, value=59.329587279629486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:18.290Z, location=server_resource_data, value=59.338307917242645, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:28.289Z, location=server_resource_data, value=59.31281873930476, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:38.289Z, location=server_resource_data, value=59.312968235949555, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:48.296Z, location=server_resource_data, value=59.334919326627244, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:58.292Z, location=server_resource_data, value=59.32936303466229, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:08.291Z, location=server_resource_data, value=59.341547011213244, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:18.293Z, location=server_resource_data, value=59.343365887058276, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:28.289Z, location=server_resource_data, value=59.318449779592115, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:38.296Z, location=server_resource_data, value=59.341248017923654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:48.292Z, location=server_resource_data, value=59.31722889032627, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:58.290Z, location=server_resource_data, value=59.32936303466229, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:08.290Z, location=server_resource_data, value=59.35393031662393, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:18.297Z, location=server_resource_data, value=59.3321536386985, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:28.300Z, location=server_resource_data, value=59.308059762778726, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:38.299Z, location=server_resource_data, value=59.34027628973247, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:48.299Z, location=server_resource_data, value=59.31391504803327, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:58.291Z, location=server_resource_data, value=59.31678040039188, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:08.296Z, location=server_resource_data, value=59.3089567426475, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:18.299Z, location=server_resource_data, value=59.29203870567798, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:28.299Z, location=server_resource_data, value=59.32026865543714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:38.296Z, location=server_resource_data, value=59.32993610513402, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:48.302Z, location=server_resource_data, value=59.32565053464983, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:58.299Z, location=server_resource_data, value=59.33437117226299, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:08.298Z, location=server_resource_data, value=59.30935540036696, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:18.297Z, location=server_resource_data, value=59.30945506479683, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:28.308Z, location=server_resource_data, value=59.532254897759245, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:38.301Z, location=server_resource_data, value=59.37358912541473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:48.304Z, location=server_resource_data, value=59.3373860212664, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:25:53 [websocket-scheduler-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: c6680623-4832-fbb1-fc85-6f07800513dd
2025-06-04 23:25:53 [websocket-scheduler-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: c6680623-4832-fbb1-fc85-6f07800513dd, 데이터 건수: 30
2025-06-04 23:26:03 [websocket-scheduler-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:26:03 [websocket-scheduler-5] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:26:03 [websocket-scheduler-5] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:26:04 [websocket-scheduler-5] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:26:04 [websocket-scheduler-5] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:26:04 [websocket-scheduler-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 187ms
2025-06-04 23:26:04 [websocket-scheduler-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:21:08.281Z, location=server_resource_data, value=59.329587279629486, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:18.290Z, location=server_resource_data, value=59.338307917242645, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:28.289Z, location=server_resource_data, value=59.31281873930476, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:38.289Z, location=server_resource_data, value=59.312968235949555, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:48.296Z, location=server_resource_data, value=59.334919326627244, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:58.292Z, location=server_resource_data, value=59.32936303466229, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:08.291Z, location=server_resource_data, value=59.341547011213244, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:18.293Z, location=server_resource_data, value=59.343365887058276, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:28.289Z, location=server_resource_data, value=59.318449779592115, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:38.296Z, location=server_resource_data, value=59.341248017923654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:48.292Z, location=server_resource_data, value=59.31722889032627, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:58.290Z, location=server_resource_data, value=59.32936303466229, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:08.290Z, location=server_resource_data, value=59.35393031662393, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:18.297Z, location=server_resource_data, value=59.3321536386985, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:28.300Z, location=server_resource_data, value=59.308059762778726, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:38.299Z, location=server_resource_data, value=59.34027628973247, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:48.299Z, location=server_resource_data, value=59.31391504803327, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:58.291Z, location=server_resource_data, value=59.31678040039188, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:08.296Z, location=server_resource_data, value=59.3089567426475, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:18.299Z, location=server_resource_data, value=59.29203870567798, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:28.299Z, location=server_resource_data, value=59.32026865543714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:38.296Z, location=server_resource_data, value=59.32993610513402, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:48.302Z, location=server_resource_data, value=59.32565053464983, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:58.299Z, location=server_resource_data, value=59.33437117226299, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:08.298Z, location=server_resource_data, value=59.30935540036696, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:18.297Z, location=server_resource_data, value=59.30945506479683, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:28.308Z, location=server_resource_data, value=59.532254897759245, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:38.301Z, location=server_resource_data, value=59.37358912541473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:48.304Z, location=server_resource_data, value=59.3373860212664, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:58.308Z, location=server_resource_data, value=59.29861655804905, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:26:04 [websocket-scheduler-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: c6680623-4832-fbb1-fc85-6f07800513dd
2025-06-04 23:26:04 [websocket-scheduler-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: c6680623-4832-fbb1-fc85-6f07800513dd, 데이터 건수: 30
2025-06-04 23:26:13 [websocket-scheduler-5] INFO  com.nhnacademy.environment.config.TraceAspect - [ENTER] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData()
2025-06-04 23:26:13 [websocket-scheduler-5] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 시작 - companyDomain: javame, measurement: used_percent, gatewayId: mem, rangeMinutes: 5
2025-06-04 23:26:13 [websocket-scheduler-5] DEBUG com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - InfluxDB 쿼리: from(bucket: "data") |> range(start: -5m) |> filter(fn: (r) => r["companyDomain"] == "javame") |> filter(fn: (r) => r["_measurement"] == "used_percent") |> filter(fn: (r) => r["gatewayId"] == "mem") |> filter(fn: (r) => r["_field"] == "value") |> sort(columns: ["_time"])
2025-06-04 23:26:14 [websocket-scheduler-5] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - 실시간 데이터 조회 완료 - 결과: 30건
2025-06-04 23:26:14 [websocket-scheduler-5] INFO  com.nhnacademy.environment.timeseries.service.TimeSeriesDataService - WebSocket subscribe: measurement=used_percent, gatewayId=mem, rangeMinutes=5
2025-06-04 23:26:14 [websocket-scheduler-5] INFO  com.nhnacademy.environment.config.TraceAspect - [EXIT] com.nhnacademy.environment.timeseries.service.TimeSeriesDataService.getRealtimeData() => 730ms
2025-06-04 23:26:14 [websocket-scheduler-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 전송 직전 데이터: [TimeSeriesDataDto(time=2025-06-04T14:21:18.290Z, location=server_resource_data, value=59.338307917242645, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:28.289Z, location=server_resource_data, value=59.31281873930476, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:38.289Z, location=server_resource_data, value=59.312968235949555, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:48.296Z, location=server_resource_data, value=59.334919326627244, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:21:58.292Z, location=server_resource_data, value=59.32936303466229, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:08.291Z, location=server_resource_data, value=59.341547011213244, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:18.293Z, location=server_resource_data, value=59.343365887058276, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:28.289Z, location=server_resource_data, value=59.318449779592115, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:38.296Z, location=server_resource_data, value=59.341248017923654, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:48.292Z, location=server_resource_data, value=59.31722889032627, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:22:58.290Z, location=server_resource_data, value=59.32936303466229, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:08.290Z, location=server_resource_data, value=59.35393031662393, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:18.297Z, location=server_resource_data, value=59.3321536386985, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:28.300Z, location=server_resource_data, value=59.308059762778726, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:38.299Z, location=server_resource_data, value=59.34027628973247, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:48.299Z, location=server_resource_data, value=59.31391504803327, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:23:58.291Z, location=server_resource_data, value=59.31678040039188, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:08.296Z, location=server_resource_data, value=59.3089567426475, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:18.299Z, location=server_resource_data, value=59.29203870567798, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:28.299Z, location=server_resource_data, value=59.32026865543714, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:38.296Z, location=server_resource_data, value=59.32993610513402, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:48.302Z, location=server_resource_data, value=59.32565053464983, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:24:58.299Z, location=server_resource_data, value=59.33437117226299, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:08.298Z, location=server_resource_data, value=59.30935540036696, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:18.297Z, location=server_resource_data, value=59.30945506479683, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:28.308Z, location=server_resource_data, value=59.532254897759245, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:38.301Z, location=server_resource_data, value=59.37358912541473, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:48.304Z, location=server_resource_data, value=59.3373860212664, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:25:58.308Z, location=server_resource_data, value=59.29861655804905, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem}), TimeSeriesDataDto(time=2025-06-04T14:26:08.302Z, location=server_resource_data, value=59.308881994325105, measurement=used_percent, tags={origin=server_data, location=server_resource_data, companyDomain=javame, gatewayId=mem})]
2025-06-04 23:26:14 [websocket-scheduler-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 조회된 데이터 건수: 30 - sessionId: c6680623-4832-fbb1-fc85-6f07800513dd
2025-06-04 23:26:14 [websocket-scheduler-5] INFO  com.nhnacademy.environment.websocket.handler.EnvironmentWebSocketHandler - 실시간 데이터 직접 전송 완료 - sessionId: c6680623-4832-fbb1-fc85-6f07800513dd, 데이터 건수: 30
2025-06-04 23:26:19 [SpringApplicationShutdownHook] INFO  org.springframework.cloud.netflix.eureka.serviceregistry.EurekaServiceRegistry - Unregistering application ENVIRONMENT-API with eureka with status DOWN
2025-06-04 23:26:19 [SpringApplicationShutdownHook] INFO  com.netflix.discovery.DiscoveryClient - Saw local status change event StatusChangeEvent [timestamp=1749047179209, current=DOWN, previous=UP]
2025-06-04 23:26:19 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  com.netflix.discovery.DiscoveryClient - DiscoveryClient_ENVIRONMENT-API/localhost:ENVIRONMENT-API:10273: registering service...
2025-06-04 23:26:19 [SpringApplicationShutdownHook] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-04 23:26:19 [tomcat-shutdown] INFO  org.springframework.boot.web.embedded.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-04 23:26:19 [SpringApplicationShutdownHook] INFO  org.springframework.integration.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2025-06-04 23:26:19 [SpringApplicationShutdownHook] INFO  org.springframework.integration.channel.PublishSubscribeChannel - Channel 'ENVIRONMENT-API.errorChannel' has 0 subscriber(s).
2025-06-04 23:26:19 [SpringApplicationShutdownHook] INFO  org.springframework.integration.endpoint.EventDrivenConsumer - stopped bean '_org.springframework.integration.errorLogger'
2025-06-04 23:26:19 [SpringApplicationShutdownHook] INFO  org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-04 23:26:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-04 23:26:19 [DiscoveryClient-InstanceInfoReplicator-%d] INFO  com.netflix.discovery.DiscoveryClient - DiscoveryClient_ENVIRONMENT-API/localhost:ENVIRONMENT-API:10273 - registration status: 204
